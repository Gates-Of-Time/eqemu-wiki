#ProTip: hit ctrl + f (Windows) or ⌘ + f (Mac) to FIND something on this page

== List of Quest API Functions ==

* A full list can always be found in the EQEmu source https://github.com/EQEmu/Server/blob/master/zone/questmgr.cpp
* Where multiple data types are indicated, please reference the function description below for a full explanation.

{|
!width="66%"| '''Function'''
!width="33%"| '''Data Type'''
|-
| [[#AssignGroupToInstance|quest::AssignGroupToInstance(instance_id)]]
| ''uint16''
|-
| [[#AssignRaidToInstance|quest::AssignRaidToInstance(instance_id)]]
| ''uint16''
|-
| [[#AssignToInstance|quest::AssignToInstance(instance_id)]]
| ''uint16''
|-
| [[#AssignToInstanceByCharID|quest::AssignToInstanceByCharID(instance_id, char_id)]]
| ''multiple''
|-
| [[#ChooseRandom|quest::ChooseRandom(option1, option2, option3, option4…[no limit])]]
| ''multiple''
|-
| [[#CreateInstance|quest::CreateInstance(zone_name, version, duration)]]
| ''multiple''
|-
| [[#DestroyInstance|quest::DestroyInstance(id)]]
| ''int''
|-
| [[#FlagInstanceByGroupLeader|quest::FlagInstanceByGroupLeader(zone, version)]]
| ''multiple''
|-
| [[#FlagInstanceByRaidLeader|quest::FlagInstanceByRaidLeader(zone, version)]]
| ''multiple''
|-
| [[#FlyMode|quest::FlyMode(mode)]]
| ''uint8''
|-
| [[#GetCharactersInInstance|quest::GetCharactersInInstance(instance_id)]]
| ''uint16''
|-
| [[#GetInstanceID|quest::GetInstanceID(zone_name, version)]]
| ''multiple''
|-
| [[#GetInstanceIDByCharID|quest::GetInstanceIDByCharID(zone, version, char_id)]]
| ''multiple''
|-
| [[#GetInstanceTimer|quest::GetInstanceTimer()]]
| ''none''
|-
| [[#GetInstanceTimerByID|quest::GetInstanceTimerByID(instance_id)]]
| ''uint16''
|-
| [[#GetSpellResistType|quest::GetSpellResistType(spell_id)]]
| ''uint32''
|-
| [[#GetSpellTargetType|quest::GetSpellTargetType(spell_id)]]
| ''uint32''
|-
| [[#GetTimeSeconds|quest::GetTimeSeconds()]]
| ''none''
|-
| [[#GetZoneID|quest::GetZoneID(zone)]]
| ''string''
|-
| [[#GetZoneLongName|quest::GetZoneLongName(zone)]]
| ''string''
|-
| [[#IsBeneficialSpell|quest::IsBeneficialSpell(spell_id)]]
| ''uint32''
|-
| [[#IsEffectInSpell|quest::IsEffectInSpell(spell_id, effect_id)]]
| ''multiple''
|-
| [[#IsRunning|quest::IsRunning()]]
| ''none''
|-
| [[#LearnRecipe|quest::LearnRecipe(recipe_id)]]
| ''int''
|-
| [[#MerchantCountItem|quest::MerchantCountItem(npc_id, item_id)]]
| ''uint32''
|-
| [[#MerchantSetItem|quest::MerchantSetItem(npc_id, item_id, quantity)]]
| ''uint32''
|-
| [[#ModifyNPCStat|quest::ModifyNPCStat(key, value)]]
| ''string''
|-
| [[#MovePCInstance|quest::MovePCInstance(zone_id, instance_id, x, y, z, heading)]]
| ''multiple''
|-
| [[#RemoveAllFromInstance|quest::RemoveAllFromInstance(instance_id)]]
| ''uint16''
|-
| [[#RemoveFromInstance|quest::RemoveFromInstance(instance_id)]]
| ''uint16''
|-
| [[#RemoveFromInstancByCharID|quest::RemoveFromInstanceByCharID(instance_id, char_id)]]
| ''multiple''
|-
| [[#SendMail|quest::SendMail(to, from, subject, message)]]
| ''string''
|-
| [[#SetRunning|quest::SetRunning(is_running)]]
| ''bool''
|-
| [[#UpdateInstanceTimer|quest::UpdateInstanceTimer(instance_id, duration)]]
| ''multiple''
|-
| [[#UpdateSpawnTimer|quest::UpdateSpawnTimer(spawn2_id, updated_time_till_repop)]]
| ''uint32''
|-
| [[#UpdateZoneHeader|quest::UpdateZoneHeader(key, value)]]
| ''string''
|-
| [[#activespeakactivity|quest::activespeakactivity(task_id)]]
| ''int''
|-
| [[#activespeaktask|quest::activespeaktask()]]
| ''none''
|-
| [[#activetasksinset|quest::activetasksinset(task_set)]]
| ''int''
|-
| [[#addldonloss|quest::addldonloss(losses, theme_id)]]
| ''int''
|-
| [[#addldonpoints|quest::addldonpoints(points, theme_id)]]
| ''int''
|-
| [[#addldonwin|quest::addldonwin(wins, theme_id)]]
| ''int''
|-
| [[#addloot|quest::addloot(item_id, charges, equip_item)]]
| ''multiple''
|-
| [[#addskill|quest::addskill(skill_id, value)]]
| ''int''
|-
| [[#assigntask|quest::assigntask(task_id, enforce_level_requirement)]]
| ''multiple''
|-
| [[#attack|quest::attack(client_name)]]
| ''string''
|-
| [[#attacknpc|quest::attacknpc(npc_entity_id)]]
| ''int''
|-
| [[#attacknpctype|quest::attacknpctype(npc_type_id)]]
| ''int''
|-
| [[#buryplayercorpse|quest::buryplayercorpse(character_id)]]
| ''int''
|-
| [[#castspell|quest::castspell(spell_id, target_id)]]
| ''int''
|-
| [[#changedeity|quest::changedeity(deity_id)]]
| ''int''
|-
| [[#checktitle|quest::checktitle(title_set_id)]]
| ''int''
|-
| [[#clear_npctype_cache|quest::clear_npctype_cache(npc_type_id)]]
| ''int''
|-
| [[#clear_proximity|quest::clear_proximity()]]
| ''none''
|-
| [[#clear_zone_flag|quest::clear_zone_flag(zone_id)]]
| ''uint32''
|-
| [[#clearspawntimers|quest::clearspawntimers()]]
| ''none''
|-
| [[#collectitems|quest::collectitems(item_id, remove_item)]]
| ''multiple''
|-
| [[#completedtasksinset|quest::completedtasksinset(task_set)]]
| ''int''
|-
| [[#createBot|quest::createBot(first_name, last_name, level, race_id, class_id, gender_id)]]
| ''multiple''
|-
| [[#createdoor|quest::createdoor(model_name, x, y, z, heading, object_type, size)]]
| ''multiple''
|-
| [[#creategroundobject|quest::creategroundobject(item_id, x, y, z, heading, decay_time)]]
| ''multiple''
|-
| [[#creategroundobjectfrommodel|quest::creategroundobjectfrommodel(model_name, x, y, z, heading, object_type, decay_time)]]
| ''multiple''
|-
| [[#createguild|quest::createguild(guild_name, leader_name)]]
| ''string''
|-
| [[#crosszonemessageplayerbyname|quest::crosszonemessageplayerbyname(channel_id, name, message)]]
| ''multiple''
|-
| [[#crosszonesetentityvariablebyclientname|quest::crosszonesetentityvariablebyclientname(client_name, key, value)]]
| ''string''
|-
| [[#crosszonesetentityvariablebynpctypeid|quest::crosszonesetentityvariablebynpctypeid(npc_type_id, key, value)]]
| ''multiple''
|-
| [[#crosszonesignalclientbycharid|quest::crosszonesignalclientbycharid(character_id, value)]]
| ''int''
|-
| [[#crosszonesignalclientbycharid|quest::crosszonesignalclientbycharid(character_id, value)]]
| ''int''
|-
| [[#crosszonesignalclientbycharid|quest::crosszonesignalclientbycharid(name, value)]]
| ''multiple''
|-
| [[#crosszonesignalclientbycharid|quest::crosszonesignalclientbycharid(name, value)]]
| ''multiple''
|-
| [[#crosszonesignalnpcbynpctypeid|quest::crosszonesignalnpcbynpctypeid(npc_type_id, value)]]
| ''uint32''
|-
| [[#debug|quest::debug(message, debug_level)]]
| ''multiple''
|-
| [[#delglobal|quest::delglobal(key)]]
| ''string''
|-
| [[#depop|quest::depop(npc_type_id)]]
| ''int''
|-
| [[#depop_withtimer|quest::depop_withtimer(npc_type_id)]]
| ''int''
|-
| [[#depopall|quest::depopall(npc_type_id)]]
| ''int''
|-
| [[#depopzone|quest::depopzone(start_spawn_status)]]
| ''bool''
|-
| [[#ding|quest::ding()]]
| ''none''
|-
| [[#disable_proximity_say|quest::disable_proximity_say()]]
| ''none''
|-
| [[#disable_spawn2|quest::disable_spawn2(spawn2_id)]]
| ''int''
|-
| [[#disablerecipe|quest::disablerecipe(recipe_id)]]
| ''int''
|-
| [[#disabletask|quest::disabletask(task_id)]]
| ''int''
|-
| [[#doanim|quest::doanim(animation_id)]]
| ''int''
|-
| [[#echo|quest::echo(emote_color_id, message)]]
| ''multiple''
|-
| [[#emote|quest::emote(message)]]
| ''string''
|-
| [[#enable_proximity_say|quest::enable_proximity_say()]]
| ''none''
|-
| [[#enable_spawn2|quest::enable_spawn2(spawn2_id)]]
| ''int''
|-
| [[#enabledtaskcount|quest::enabledtaskcount(task_set)]]
| ''int''
|-
| [[#enablerecipe|quest::enablerecipe(recipe_id)]]
| ''int''
|-
| [[#enabletask|quest::enabletask(task_id)]]
| ''int''
|-
| [[#enabletitle|quest::enabletitle(title_set_id)]]
| ''int''
|-
| [[#exp|quest::exp(amount)]]
| ''int''
|-
| [[#faction|quest::faction(faction_id, value, temp)]]
| ''int''
|-
| [[#factionvalue|quest::factionvalue()]]
| ''none''
|-
| [[#failtask|quest::failtask(task_id)]]
| ''int''
|-
| [[#firsttaskinset|quest::firsttaskinset(task_set)]]
| ''int''
|-
| [[#follow|quest::follow(entity_id, distance)]]
| ''int''
|-
| [[#forcedoorclose|quest::forcedoorclose(door_id, alt_mode)]]
| ''multiple''
|-
| [[#forcedooropen|quest::forcedooropen(door_id, alt_mode)]]
| ''int''
|-
| [[#get_rule|quest::get_rule(rule_name)]]
| ''string''
|-
| [[#get_spawn_condition|quest::get_spawn_condition(zone_short, instance_id, condition_id)]]
| ''multiple''
|-
| [[#getguildnamebyid|quest::getguildnamebyid(guild_id)]]
| ''uint32''
|-
| [[#getlevel|quest::getlevel(type)]]
| ''int''
|-
| [[#getplayerburiedcorpsecount|quest::getplayerburiedcorpsecount(character_id)]]
| ''int''
|-
| [[#gettaskactivitydonecount|quest::gettaskactivitydonecount(task_id, activity_id)]]
| ''int''
|-
| [[#givecash|quest::givecash(copper, silver, gold, platinum)]]
| ''int''
|-
| [[#gmmove|quest::gmmove(x, y, z)]]
| ''float''
|-
| [[#gmsay|quest::gmsay(message, color_id, send_to_world)]]
| ''multiple''
|-
| [[#has_zone_flag|quest::has_zone_flag(zone_id)]]
| ''uint32''
|-
| [[#incstat|quest::incstat(stat_id, value)]]
| ''int''
|-
| [[#isdisctome|quest::isdisctome(item_id)]]
| ''int''
|-
| [[#isdooropen|quest::isdooropen(door_id)]]
| ''int''
|-
| [[#istaskaappropriate|quest::istaskaappropriate(task_id)]]
| ''int''
|-
| [[#istaskactive|quest::istaskactive(task_id)]]
| ''int''
|-
| [[#istaskactivityactive|quest::istaskactivityactive(task_id, activity_id)]]
| ''int''
|-
| [[#istaskcompleted|quest::istaskcompleted(task_id)]]
| ''int''
|-
| [[#istaskenabled|quest::istaskenabled(task_id)]]
| ''int''
|-
| [[#itemlink|quest::itemlink(item_id)]]
| ''int''
|-
| [[#lasttaskinset|quest::lasttaskinset(task_set)]]
| ''int''
|-
| [[#level|quest::level(new_level)]]
| ''int''
|-
| [[#me|quest::me(message)]]
| ''string''
|-
| [[#movegrp|quest::movegrp(zone_id, x, y, z)]]
| ''multiple''
|-
| [[#movepc|quest::movepc(zone_id, x, y, z [float heading])]]
| ''multiple''
|-
| [[#moveto|quest::moveto(x, y, z, heading, save_guard_location)]]
| ''multiple''
|-
| [[#nexttaskinset|quest::nexttaskinset(task_set, task_id)]]
| ''int''
|-
| [[#npcfeature|quest::npcfeature(feature, value)]]
| ''multiple''
|-
| [[#npcgender|quest::npcgender(gender_id)]]
| ''int''
|-
| [[#npcrace|quest::npcrace(race_id)]]
| ''int''
|-
| [[#npcsize|quest::npcsize(size)]]
| ''int''
|-
| [[#npctexture|quest::npctexture(texture_id)]]
| ''int''
|-
| [[#pause|quest::pause(duration-ms)]]
| ''int''
|-
| [[#permaclass|quest::permaclass(class_id)]]
| ''int''
|-
| [[#permagender|quest::permagender(gender_id)]]
| ''int''
|-
| [[#permarace|quest::permarace(race_id)]]
| ''int''
|-
| [[#playerfeature|quest::playerfeature(feature, setting)]]
| ''multiple''
|-
| [[#playergender|quest::playergender(gender_id)]]
| ''int''
|-
| [[#playerrace|quest::playerrace(race_id)]]
| ''int''
|-
| [[#playersize|quest::playersize(newsize)]]
| ''int''
|-
| [[#playertexture|quest::playertexture(texture_id)]]
| ''int''
|-
| [[#popup|quest::popup(window_title, message, popup_id, buttons, duration)]]
| ''multiple''
|-
| [[#pvp|quest::pvp(mode)]]
| ''string''
|-
| [[#qs_player_event|quest::qs_player_event(character_id, message)]]
| ''multiple''
|-
| [[#qs_send_query|quest::qs_send_query(query)]]
| ''string''
|-
| [[#rain|quest::rain(weather)]]
| ''int''
|-
| [[#rebind|quest::rebind(zone_id, x, y, z)]]
| ''multiple''
|-
| [[#removetitle|quest::removetitle(title_set_id)]]
| ''int''
|-
| [[#repopzone|quest::repopzone()]]
| ''none''
|-
| [[#resettaskactivity|quest::resettaskactivity(task_id, activity_id)]]
| ''int''
|-
| [[#respawn|quest::respawn(npc_type_id, grid_id)]]
| ''int''
|-
| [[#resume|quest::resume()]]
| ''none''
|-
| [[#safemove|quest::safemove()]]
| ''none''
|-
| [[#save|quest::save()]]
| ''none''
|-
| [[#say|quest::say(message, language_id)]]
| ''multiple''
|-
| [[#saylink|quest::saylink(message, silent, link_name)]]
| ''multiple''
|-
| [[#scribespells|quest::scribespells(max_level, min_level)]]
| ''int''
|-
| [[#selfcast|quest::selfcast(spell_id)]]
| ''int''
|-
| [[#set_proximity|quest::set_proximity(min_x, max_x, min_y, max_y, min_z, max_z, say)]]
| ''multiple''
|-
| [[#set_zone_flag|quest::set_zone_flag(zone_id)]]
| ''uint32''
|-
| [[#setallskill|quest::setallskill(value)]]
| ''int''
|-
| [[#setanim|quest::setanim(npc_type_id, appearance_number)]]
| ''int''
|-
| [[#setglobal|quest::setglobal(key, value, options, duration)]]
| ''multiple''
|-
| [[#setguild|quest::setguild(guild_id, guild_rank_id)]]
| ''int''
|-
| [[#sethp|quest::sethp(mob_health_percentage)]]
| ''int''
|-
| [[#setlanguage|quest::setlanguage(skill_id, value)]]
| ''int''
|-
| [[#setnexthpevent|quest::setnexthpevent(at_mob_percentage)]]
| ''int''
|-
| [[#setnextinchpevent|quest::setnextinchpevent(at_mob_percentage)]]
| ''int''
|-
| [[#set_rule|quest::set_rule(rule_name, rule_value)]]
| ''multiple''
|-
| [[#setskill|quest::setskill(skill_id, value)]]
| ''int''
|-
| [[#setsky|quest::setsky(sky)]]
| ''uint8''
|-
| [[#setstat|quest::setstat(stat_id, int_value)]]
| ''int''
|-
| [[#settarget|quest::settarget(target_enum, target_id)]]
| ''multiple''
|-
| [[#settime|quest::settime(new_hour, new_min, update_world)]]
| ''multiple''
|-
| [[#settimer|quest::settimer(timer_name, seconds)]]
| ''multiple''
|-
| [[#settimerMS|quest::settimerMS(timer_name, milliseconds)]]
| ''multiple''
|-
| [[#sfollow|quest::sfollow()]]
| ''none''
|-
| [[#shout|quest::shout(message)]]
| ''string''
|-
| [[#shout2|quest::shout2(message)]]
| ''string''
|-
| [[#showgrid|quest::showgrid(grid_id)]]
| ''int''
|-
| [[#signal|quest::signal(npc_id, wait_ms)]]
| ''int''
|-
| [[#signalwith|quest::signalwith(npc_id, signal_id, wait_ms)]]
| ''int''
|-
| [[#snow|quest::snow(weather)]]
| ''int''
|-
| [[#spawn|quest::spawn(npc_type_id, grid_id, int_unused, x, y, z)]]
| ''multiple''
|-
| [[#spawn2|quest::spawn2(npc_type_id, grid_id, int_unused, x, y, z, heading)]]
| ''multiple''
|-
| [[#spawn_condition|quest::spawn_condition(zone_short, instance_id, condition_id, value)]]
| ''multiple''
|-
| [[#spawn_from_spawn2|quest::spawn_from_spawn2(spawn2_id)]]
| ''int''
|-
| [[#start|quest::start(waypoint)]]
| ''int''
|-
| [[#stop|quest::stop()]]
| ''none''
|-
| [[#stopalltimers|quest::stopalltimers()]]
| ''none''
|-
| [[#stoptimer|quest::stoptimer(timer_name)]]
| ''string''
|-
| [[#summonallplayercorpses|quest::summonallplayercorpses(char_id, dest_x, dest_y, dest_z, dest_heading)]]
| ''multiple''
|-
| [[#summonburiedplayercorpse|quest::summonburiedplayercorpse(char_id, dest_x, dest_y, dest_z, dest_heading)]]
| ''multiple''
|-
| [[#summonitem|quest::summonitem(item_id, charges)]]
| ''multiple''
|-
| [[#surname|quest::surname(name)]]
| ''string''
|-
| [[#targlobal|quest::targlobal(key, value, duration, npc_id, chararacter_id, zone_id)]]
| ''multiple''
|-
| [[#task_setselector|quest::task_setselector(task_set_id)]]
| ''int''
|-
| [[#taskexplorearea|quest::taskexplorearea(explore_id)]]
| ''int''
|-
| [[#taskselector|quest::taskselector(task_id)]]
| ''int''
|-
| [[#tasktimeleft|quest::tasktimeleft(task_id)]]
| ''int''
|-
| [[#toggle_spawn_event|quest::toggle_spawn_event(event_id, is_enabled, is_strict, reset_base)]]
| ''multiple''
|-
| [[#toggledoorstate|quest::toggledoorstate(door_id)]]
| ''int''
|-
| [[#traindisc|quest::traindisc(tome_item_id)]]
| ''int''
|-
| [[#traindiscs|quest::traindiscs(max_level, min_level)]]
| ''int''
|-
| [[#unique_spawn|quest::unique_spawn(npc_type_id,grid_id, int_unused, x, y, z, heading)]]
| ''multiple''
|-
| [[#unscribespells|quest::unscribespells()]]
| ''none''
|-
| [[#untraindiscs|quest::untraindiscs()]]
| ''none''
|-
| [[#updatetaskactivity|quest::updatetaskactivity(task_id, activity_id, count, ignore_quest_update)]]
| ''multiple''
|-
| [[#varlink|quest::varlink(item_id)]]
| ''uint32''
|-
| [[#voicetell|quest::voicetell(client_name, macro_id, race_id, gender_id)]]
| ''multiple''
|-
| [[#we|quest::we(emote_color_id, message)]]
| ''multiple''
|-
| [[#wearchange|quest::wearchange(slot, texture_id, hero_forge_model_id, elite_material_id)]]
| ''multiple''
|-
| [[#worldwidemarquee|quest::worldwidemarquee(color_id, priority, fade_in, fade_out, duration, message)]]
| ''multiple''
|-
| [[#write|quest::write(file_name, message)]]
| ''string''
|-
| [[#ze|quest::ze(emote_color_id, message)]]
| ''multiple''
|-
| [[#zone|quest::zone(zone_name)]]
| ''string''
|}

== Functions ==

=== AssignGroupToInstance ===

      '''Parmeter:'''

      instance_id ''(uint16)''

      '''Usage:'''

      Assigns a group to an instance.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id--GetInstanceID returns int
my $Instance = quest::GetInstanceID($zonesn, $instanceversion); 
quest::AssignGroupToInstance($Instance);</syntaxhighlight>
=== AssignRaidToInstance ===

      '''Parmeter:'''

      instance_id ''(uint16)''

      '''Usage:'''

      Assigns a raid to an instance.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceID($zonesn, $instanceversion); #:: GetInstanceID returns int
quest::AssignRaidToInstance($Instance);</syntaxhighlight>
=== AssignToInstance ===

      '''Parameter:'''

      instance_id ''(uint16)''

      '''Usage:'''

      Assigns a single player to an instance.

      '''Example'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceID($zonesn, $instanceversion); #:: GetInstanceID returns int
quest::AssignToInstance($Instance);</syntaxhighlight>
=== AssignToInstanceByCharID ===

      '''Parameter:'''

      instance_id ''(uint16)'', char_id ''(uint32)''

      '''Usage:'''

      Assigns a single player to an instance by character ID.

      '''Example'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceIDByCharID($zonesn, $instanceversion, $charid); #:: Returns int
quest::AssignToInstanceByCharID($Instance, $charid);</syntaxhighlight>
=== ChooseRandom ===

      '''Parameter(s):'''

      option1, option2, option3…

      '''Usage:'''

      Returns one of the items listed in its arguments randomly.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Choose a random reward: 1001 - Cloth Cap, 1004 - Cloth Shirt, 1011 - Cloth Pants
quest::summonitem(quest::ChooseRandom(1001, 1004, 1011);</syntaxhighlight>
=== CreateInstance ===

      '''Parameter(s):'''

      zone_name ''(string)'', version ''(uint16)'', duration ''(uint32)''

      '''Usage:'''

      Creates an instance in the given zone using specified version and duration.

      '''Example:'''

<syntaxhighlight lang="perl">quest::CreateInstance("mirb", 50, 10800);</syntaxhighlight>
=== DestroyInstance ===

      '''Parameter(s):'''

      instance_id ''(uint16)''

      '''Usage:'''

      Destroys the given instance.

      '''Example:'''

<syntaxhighlight lang="perl">quest::DestroyInstance(50);</syntaxhighlight>
=== FlagInstanceByGroupLeader ===

      '''Parameter(s):'''

      zone ''(uint32)'', version ''(uint16)''

      '''Usage:'''

      Assigns the group leader’s instance to a player

      '''Example:'''

<syntaxhighlight lang="perl">#:: Zone 237 (mirb), instance 50
quest::FlagInstanceByGroupLeader(237,50);</syntaxhighlight>
=== FlagInstanceByRaidLeader ===

      '''Parameter(s):'''

      zone ''(uint32)'', version ''(uint16)''

      '''Usage:'''

      Assigns the raid leader’s instance to a player

      '''Example:'''

<syntaxhighlight lang="perl">#:: Zone 237 (mirb), instance 50
quest::FlagInstanceByRaidLeader(237,50);</syntaxhighlight>
=== FlyMode ===

      '''Parameter(s):'''

      mode [0-3] ''(uint8)''

      '''Usage:'''

      Sets flymode for player where 0 = Off, 1 = On, 2 = Levitate.

      '''Example:'''

<syntaxhighlight lang="perl"> #:: Turn fly mode on
quest::FlyMode(1);</syntaxhighlight>
=== GetCharactersInInstance ===

      '''Parameter(s):'''

      instance_id ''(uint16)''

      '''Usage:'''

      Returns a hash of character id and instance id

      '''Example:'''

<syntaxhighlight lang="perl">#:: Instance ID 50
quest::GetCharactersInInstance(50); #:: Returns 50,123456</syntaxhighlight>
=== GetInstanceID ===

      '''Parameter(s):'''

      zone_name ''(string)'', version ''(uint16)''

      '''Usage:'''

      Returns the instance id of the given zone/verison.

      '''Example'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceID($zonesn, $instanceversion); #:: Returns uint16
quest::AssignToInstance($Instance);</syntaxhighlight>
=== GetInstanceIDByCharID ===

      '''Parameter(s):'''

      zone_name ''(string)'', version ''(int16)'', char_id ''(uint32)''

      '''Usage:'''

      Returns the instance ID of the given zone and version by character ID.

      '''Example'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceIDByCharID($zonesn, $instanceversion, $charid); #:: Returns uint16
quest::AssignToInstance($Instance);</syntaxhighlight>
=== GetInstanceTimer ===

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Returns the timer for the instance.

      '''Example'''

<syntaxhighlight lang="perl">quest::GetInstanceTimer(); #:: Returns uint32</syntaxhighlight>
=== GetInstanceTimerByID ===

      '''Parameter(s):'''

      instance_id ''(uint16)''

      '''Usage:'''

      Returns the duration timer of the specified instance.<br />
      Note: If you do not provide an instance_id in the method it defaults to instance id 0 and returns 0 for time remaining.

      '''Example'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceID($zonesn, $instanceversion); #:: Returns uint16
quest::GetInstanceTimerByID($Instance); #:: Returns timer int</syntaxhighlight>
=== GetSpellResistType ===

      '''Parameter(s):'''

      spell_id ''(uint32)''

      '''Usage:'''

      Returns the [https://github.com/EQEmu/Server/wiki/Resist-Types Resist Type] of the specified spell.

      '''Example'''

<syntaxhighlight lang="perl">quest::GetSpellResistType($spell_id); #:: Returns int</syntaxhighlight>
=== GetSpellTargetType ===

      '''Parameter(s):'''

      spell_id ''(uint32)''

      '''Usage:'''

      Returns the [https://github.com/EQEmu/Server/wiki/Target-Types Target Type] of the specified spell.

      '''Example'''

<syntaxhighlight lang="perl">quest::GetSpellTargetType($spell_id); #:: Returns int</syntaxhighlight>
=== GetTimeSeconds ===

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Returns unix time in seconds.

      '''Example:'''

<syntaxhighlight lang="perl">quest::GetTimeSeconds(); #:: Returns int</syntaxhighlight>
=== GetZoneID ===

      '''Parameter(s):'''

      zone ''(string)''

      '''Usage:'''

      Returns the zone id.

      '''Example:'''

<syntaxhighlight lang="perl">quest::GetZoneID($zonesn); #:: Returns int</syntaxhighlight>
=== GetZoneLongName ===

      '''Parameter(s):'''

      zone ''(string)''

      '''Usage:'''

      Returns the long name of the zone.

      '''Example:'''

<syntaxhighlight lang="perl">quest::GetZoneLongName($zonesn); #:: Returns string</syntaxhighlight>
=== IsBeneficialSpell ===

      '''Parameter(s):'''

      spell_id ''(uint32)''

      '''Usage:'''

      Returns true if the specified spell is beneficial.

      '''Example:'''

<syntaxhighlight lang="perl">quest::IsBeneficialSpell($spell_id); #:: Returns 0 or 1</syntaxhighlight>
=== IsEffectInSpell ===

      '''Parameter(s):'''

      spell_id ''(uint32)'', effect_id ''(uint32)''

      '''Usage:'''

      Returns true if the specified spell has the specified [https://github.com/EQEmu/Server/wiki/Spell-Effect-IDs Spell Effect].

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check for Spell Effect 23 - Fear
quest::IsEffectInSpell($spell_id, 23); #:: Returns 0 or 1</syntaxhighlight>
=== IsRunning ===

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Returns the running state–0 is walking, 1 is running.

      '''Example:'''

<syntaxhighlight lang="perl">quest::IsRunning(); #:: Returns 0 or 1</syntaxhighlight>
=== LearnRecipe ===

      '''Parameter(s):'''

      recipe_id ''(uint32)''

      '''Usage:'''

      Makes the client learn a recipe.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Teach recipe_id 2141 - Pickled Bixie
quest::LearnRecipe(2141);</syntaxhighlight>
=== MerchantCountItem ===

      '''Parameter(s):'''

      npc_id ''(uint32)'', item_id ''(uint32)''

      '''Usage:'''

      Returns the number of the specified item in stock at the specified merchant.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Find out how many 12260 - Fuzzlecutter Formula 5000 are in stock at Ping_Fuzzlecutter (9133)
quest::MerchantCountItem(9133, 12260); #:: Returns int</syntaxhighlight>
=== MerchantSetItem ===

      '''Parameter(s):'''

      npc_id ''(uint32)'', item_id ''(uint32)'', quantity ''(uint32)''

      '''Usage:'''

      Changes the number of the specified items in stock, at the specified quantity, at the specified merchant.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Make sure there is plenty of 12260 - Fuzzlecutter Formula 5000 in stock at Ping_Fuzzlecutter (9133)
quest::MerchantSetItem(9133, 12260, 1000); #:: Quantity 1000</syntaxhighlight>
=== ModifyNPCStat ===

      '''Parameter(s):'''

      key ''(string)'', value ''(string)''

      '''Usage:'''

      Changes the specified [https://github.com/EQEmu/Server/wiki/npc_types npc_types] stat of the specified NPC on the fly–changes are not saved to the npc_types in the DB.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Adjust the runspeed to 1.25
quest::modifynpcstat("runspeed", 1.25);</syntaxhighlight>
=== MovePCInstance ===

      '''Parameter(s):'''

      zone_id ''(uint32)'', instance_id ''(uint32)'', x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)''

      '''Usage:'''

      Moves a player to the specified instance of the specified zone at the specified location and heading.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CLICKDOOR {
    #:: Match door id 3: Frozen Nightmare (mirb) zone in
    if ($doorid == 3) {
        #:: Create a scalar variable to store instance_id--GetInstanceID returns int
        my $InstanceMirB = quest::GetInstanceID("mirb",50);
        #:: Match if an instance exists
        if ($InstanceMirB > 0) {
            #:: Move the player to mirb (237), to their instance, at X - 607, Y - 1503, Z - 33, Heading - 0 (north)
            quest::MovePCInstance(237,$InstanceMirB,607,1503,33,0);
        }
    }
}</syntaxhighlight>
=== RemoveAllFromInstance ===

      '''Parameter(s):'''

      instance_id ''(uint16)''

      '''Usage:'''

      Removes ALL players from an instance by instance ID.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_DEATH_COMPLETE {
     #:: Instance ID is a pre-exported variable
     quest::RemoveAllFromInstance($instanceid);
}</syntaxhighlight>
=== RemoveFromInstance ===

      '''Parameter(s):'''

      instance_id ''(uint16)''

      '''Usage:'''

      Removes the player that triggered the event from an instance by instance ID.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CLICKDOOR {
     if ($doorid == 1) {
          quest::RemoveFromInstance($instanceid);
     }
}</syntaxhighlight>
=== RemoveFromInstanceByCharID ===

      '''Parameter(s):'''

      instance_id ''(uint16)'', char_id ''(uint32)''

      '''Usage:'''

      Removes a client from an instance by character ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store instance_id
my $Instance = quest::GetInstanceIDByCharID($zonesn, $instanceversion, $charid); #:: Returns int
quest::RemoveFromInstanceByCharID($Instance, $charid);</syntaxhighlight>
=== SendMail ===

      '''Parameter(s):'''

      to ''(string)'', from ''(string)'', subject ''(string)'', message ''(string)''

      '''Usage:'''

      Used to send a mail message.

=== SetRunning ===

      '''Parameter(s):'''

      is_running ''(bool)''

      '''Usage:'''

      Used to toggle run/walk state.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
    #:: Set the NPC to run
    quest::SetRunning(1);
}</syntaxhighlight>
=== UpdateInstanceTimer ===

      '''Parameter(s):'''

      instance_id ''(int16)'', duration ''(uint32)''

      '''Usage:'''

      Used to update a zone instance timer by instance id by the number of seconds specified.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CLICKDOOR {
     #:: When they open door 7...
     if ($doorid == 7) {
          #:: Add one hour of time to the current instance
          quest::UpdateInstanceTimer($instanceid,3600);
     }
}</syntaxhighlight>
=== UpdateSpawnTimer ===

      '''Parameter(s):'''

      spawn2_id ''(uint32)'', updated_time_till_repop ''(uint32)''

      '''Usage:'''

      Used to update a spawn timer by spawn2 ID and time specified in ms.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_DEATH_COMPLETE {
     #:: Set a random timer on Fippy Darkpaw's spawn point
     quest::updatespawntimer(10875,(int(rand(600))+3600)*1000);
}</syntaxhighlight>
=== UpdateZoneHeader ===

      '''Parameter(s):'''

      key ''(string)'', value ''(string)''

      '''Usage:'''

      Allows you to manipulate zone header settings on the fly. The [https://github.com/EQEmu/Server/blob/c08993b60b7b5328398459a458648a114c3fb331/zone/questmgr.cpp#L3149 Quest Manager] lists the following possible strings: ztype, fog_red, fog_green, fog_blue, fog_minclip, fog_maxclip, gravity, time_type, rain_chance, rain_duration, snow_chance, snow_duration, sky, safe_x, safe_y, safe_z, max_z, underworld, minclip, maxclip, fog_density, suspendbuffs.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set the max clip plane to 500 units
quest::UpdateZoneHeader("maxclip", 500);</syntaxhighlight>
=== activespeakactivity ===

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Returns the Activity ID of the lowest numbered active activity to speak with an NPC in the specified task.

      '''Example:'''

      If you have task id 150: activity 0–kill three rats, activity 1–talk with NPC, activity 2–kill four fire beetles, activity 3–talk with NPC.

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Match text for hail, case insensitive
     if ($text=~/hail/i) {
          #:: Create a scalar variable to store the current speak activity for task 150
          $speakactivity = quest::activespeakactivity(150); #:: Returns int
          #:: Match if the player is on the first speak activity
          if ($speakactivity == 1) {
               quest::say("I really hate rats.");
          }
          #:: Match if the player is on the second speak activity
          elsif ($speakactivity == 3) {
               quest::say("I really hate fire beetles.");
          }
     }
}</syntaxhighlight>
=== activespeaktask ===

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Returns the Task ID of the lowest numbered task slot if the player who triggered the event has an active task with an active activity to speak to the NPC (returns 0 if not).

      '''Example:'''

      If you have task id 150: activity 0–kill three rats, activity 1–talk with NPC, activity 2–kill four fire beetles, activity 3–talk with NPC.

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Match text for hail, case insensitive
     if ($text=~/hail/i) {
          #:: Create a scalar variable to store the current task that has a speak activity
          $speaktask = quest::activespeaktask(); #:: Returns int
          #:: Match if there's an active task with a speak activity
          if ($speaktask => 1) {
               quest::say("You have a task to speak with me and its ID is $speaktask.");
          }
          #:: Match if there's NO active task with a speak activity
          else {
               quest::say("You do not have any tasks with a speaking activity at this time.");
          }
     }
}</syntaxhighlight>
=== activetasksinset ===

      '''Parameter(s):'''

      task_set ''(int)''

      '''Usage:'''

      Returns the number of tasks in the given TaskSet that the player has active.

      '''Example:'''

      You have a TaskSet “20”, which consists of three tasks–200, 201, 202.

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Create a scalar variable to store the number of active tasks in TaskSet 20
     $activetaskcount = quest::activetasksinset(20);  #:: returns int
     #:: Match text for hail, case insensitive
     if ($text=~/hail/i) {
          quest::say("You have $activetaskcount tasks remaining.");
     }
}</syntaxhighlight>
=== addldonloss ===

      '''Parameter(s):'''

      losses ''(int)'', theme_id ''(int)''

      '''Usage:'''

      Adds to loss count for LDON adventures by [https://github.com/EQEmu/Server/wiki/LDON-Themes LDON Theme].

      '''Example:'''

<syntaxhighlight lang="perl">#:: Add a loss for Rujarkian Hills theme
quest::addldonloss(1,4);</syntaxhighlight>
=== addldonpoints ===

      '''Parameter(s):'''

      points ''(int)'', theme_id ''(int)''

      '''Usage:'''

      Adds to points count for LDON adventures by [https://github.com/EQEmu/Server/wiki/LDON-Themes LDON Theme].

      '''Example:'''

<syntaxhighlight lang="perl">#:: Add 100 points for Rujarkian Hills theme
quest::addldonpoints(100,4);</syntaxhighlight>
=== addldonwin ===

      '''Parameter(s):'''

      wins ''(int)'', theme_id ''(int)''

      '''Usage:'''

      Adds to wins count for LDON adventures by [https://github.com/EQEmu/Server/wiki/LDON-Themes LDON Theme].

      '''Example:'''

<syntaxhighlight lang="perl">#:: Add a loss for Rujarkian Hills theme
quest::addldonwin(1,4);</syntaxhighlight>
=== addloot ===

      '''Parameter(s):'''

      item_id ''(uint32)'', charges = 0 ''(uint16)'', equip_item = true ''(bool)''

      '''Usage:'''

      Add an item with a number of charges to an NPC’s loot (does not permanently change the loot table or lootdrop entries). If ‘equipitem’ is false (0), the item will not be used by (or shown in the hands of) the NPC.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Add a 5013 - Rusty Short Sword to the NPC's loot, but do not equip the item
quest::addloot(5013,0,0);</syntaxhighlight>
=== addskill ===

      '''Parameter(s):'''

      skill_id ''(int)'', value ''(int)''

      '''Usage:'''

      Sets the player’s skill, by [https://github.com/EQEmu/Server/wiki/Skills Skill ID], to the value specified.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Match text for train, case insensitive
     if ($text=~/train/i) {
          #:: Call the custom subroutine "Train"
          Train();
     }
}

#:: Custom subroutine
sub Train {
     #:: Send a message to the client in yellow (15) text
     $client->Message( 15, "Your experiences across the realm have infused you with increased power and knowledge..." );
     #:: Set all available skills to maximum for race/class at current level
     foreach my $skill (0 .. 77) {
          #:: Continue the foreach loop using the next skill ID if the client cannot use the skill ID
          next unless $client->CanHaveSkill($skill);
          #:: Create a scalar variable to store the maximum skill Value for the Skill ID
          my $maxSkill = $client->MaxSkill($skill, $client->GetClass(), $ulevel);
          #:: Continue the foreach loop using the next Skill ID if the client has a higher skill Value for the Skill ID
          next unless $maxSkill > $client->GetRawSkill($skill);
          #:: Set the Skill ID to the maximum Value that the client is allowed
          $client->SetSkill($skill, $maxSkill);
     }
     #:: Scribe all spells for current level
     quest::scribespells($ulevel);
}</syntaxhighlight>
=== assigntask ===

      '''Parameter(s):'''

      task_id ''(int)'', npcid ''(int)'', enforce_level_requirement = false ''(bool)''

      '''Usage:'''

      Used to assign a task to a client, optionally this can include the NPC ID and whether or not to enforce the level requirement specified in the DB.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Assign Task 102
quest::assigntask(102);
#:: Assign Task 103 with level requirement enforced
quest::assigntask(103, 1);
#:: Assign Task 104 and include the NPC ID
$client->AssignTask(104, $npc->GetID());
#:: Assign Task 105, include the NPC ID with level requirement enforced
$client->AssignTask(105, $npc->GetID(), 1);</syntaxhighlight>
=== attack ===

      '''Parameter(s):'''

      client_name ''(string)''

      '''Usage:'''

      Used to make the NPC attack a client, by name.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Match text for "mother", case insensitive
     if ($text=~/mother/i) {
          quest::say("How dare you talk about my mother!");
          #:: Attack the client that triggered the event
          quest::attack($name);
     }
}</syntaxhighlight>
=== attacknpc ===

      '''Parameter(s):'''

      npc_entity_id ''(int)''

      '''Usage:'''

      Used to make the NPC attack another NPC, by Entity ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store the Entity ID of a_large_rat
$aggromob = $entity_list->GetMobID(2011);
#:: Get him.
quest::attacknpc($aggromob);</syntaxhighlight>
=== attacknpctype ===

      '''Parameter(s):'''

      npc_type_id ''(int)''

      '''Usage:'''

      Used to make the NPC attack another NPC, by NPC Type ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Attack a_large_rat
quest::attacknpctype(2011);</syntaxhighlight>
=== buryplayercorpse ===

      '''Parameter(s):'''

      character_id ''(int)''

      '''Usage:'''

      Buries and depops a single corpse by Character ID.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Create a scalar variable for storing corpse count
     my $CorpseCount = 0;
     #:: Create a scalar variable for storing the Character ID of the Client that triggered the event
     my $charid = $client->CharacterID();
     if ($text=~/hail/i) {
          #:: Send the client a message in yellow (15) text
          $client->Message(15,"I can [bury a corpse] or [destroy a corpse] that you have unburied.");
     }
     if ($text=~/bury a corpse/i) {
          #:: Match if the client character has a corpse (or corpses)
          if ($CorpseCount > 0) {
               #:: Bury the character's corpse
               quest::buryplayercorpse($charid);
               $client->Message(15,"Very well, burying one of your corpses now.");
          }
          #:: Match if the client character does not have a corpse
          else {
               $client->Message(13,"You have no unburied corpses, begone.");
          }
     }
}</syntaxhighlight>
=== castspell ===

      '''Parameter(s):'''

      spell_id ''(int)'', target_id ''(int)''

      '''Usage:'''

      Used to make the NPC cast a spell, by ID, on a target, by ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Cast spell 12 - Healing, on the user that triggered the event
quest::castspell(12,$userid);</syntaxhighlight>
=== changedeity ===

      '''Parameter(s):'''

      deity_id ''(int)''

      '''Usage:'''

      Used to permanently change the client character’s deity, by [https://github.com/EQEmu/Server/wiki/Deity-List Deity ID]; kicks the client to character select.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the client character's deity to 201 - Bertoxxulous
quest::changedeity(201);</syntaxhighlight>
=== checktitle ===

      '''Parameter(s):'''

      title_set_id ''(int)''

      '''Usage:'''

      Used to determine if a player has the specified titleset enabled or not.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check to see if Title Set 2 (prefix "Arbiter", suffix "Harbinger of the Old World") is enabled
quest::checktitle(2); #:: Returns bool</syntaxhighlight>
=== clear_npctype_cache ===

      '''Parameter(s):'''

      npc_type_id ''(int)''

      '''Usage:'''

      Clears the NPC Table.

=== clear_proximity ===

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Clears an NPC’s defined proximity.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Create a proximity, 50 units across
     quest::set_proximity($x - 25, $x + 25, $y - 25, $y + 25);
}

sub EVENT_ENTER {
     #:: Shout a message when the event is triggered
     quest::shout("Congratulations $name, you have won the race!");
     #:: Clear the proximity since second place is the first loser
     quest::clear_proximity();
}</syntaxhighlight>
=== clear_zone_flag ===

      '''Parameter(s):'''

      zone_id ''(uint32)''

      '''Usage:'''

      Used to clear the Zone Flag, by ID, of a client character.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Clear the character's Zone Flag (Sleeper's Key) for 128 - The Sleeper's Tomb (sleeper)
quest::clear_zone_flag(128);</syntaxhighlight>
=== clearspawntimers ===

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Used to reset the spawn timers and repop a zone–similar to #repop force.

      '''Example:'''

<syntaxhighlight lang="perl">quest::clearspawntimers();</syntaxhighlight>
== collectitems ==

      '''Parameter(s):'''

      item_id ''(int)'', remove_item = true ''(bool)''

      '''Usage:'''

      Returns the number of items by ID that exist in inventory. If remove is true, items are removed as they are counted.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
    #:: Match text for "hail", case insensitive, and the client that triggered the event has a 1001 - Cloth Cap
    if ($text=~/hail/i && plugin::check_hasitem($client, 1001)) {
        quest::emote("steals your cloth cap.");
        quest::collectitems(1001, 1);
    }
}</syntaxhighlight>
== completedtasksinset ==

      '''Parameter(s):'''

      task_set ''(int)''

      '''Usage:'''

      Returns the number of tasks in the given Task Set that the player has completed.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Match text for "tasks", case insensitive
     if ($text=~/tasks/i) {
          #:: Create a scalar variable to store the count of completed tasks in task set "200"
          my $TasksComplete = quest::completedtasksinset(200); #:: Returns int
          quest::say("You have completed $TasksComplete tasks.");
     }
}</syntaxhighlight>
== createBot ==

      '''Parameter(s):'''

      first_name ''(string)'', last_name ''(string)'', level ''(int)'', race_id ''(int)'', class_id ''(int)'', gender_id ''(int)''

      '''Usage:'''

      Used to create a bot with the given parameters.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ENTERZONE {
     #:: Create a bot named Leroy Jenkins, who is level 50, Human, Paladin, Male
     quest::createBot("Leroy", "Jenkins", 50, 1, 3, 0);
}</syntaxhighlight>
== createdoor ==

      '''Parameter(s):'''

      model_name ''(string)'', x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)'', object_type = 58 ''(int)'', size = 100 ''(int)''

      '''Usage:'''

      Creates a new door, with type 58 and size 100 as the defaults.

      '''Example:'''

<syntaxhighlight lang="perl">quest::createdoor("POKTELE500", -582.532, 2324.96, -47.8143, 120, 58, 100);</syntaxhighlight>
== creategroundobject ==

      '''Parameter(s):'''

      item_id ''(int)'', x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)'', decay_time ''(uint32)''

      '''Usage:'''

      Creates an object on the ground with the given parameters, decay time is ms = 300000 by default.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_WAYPOINT_ARRIVE {
     #:: Create a 12274 - Chalice of Conquest at the NPC's current location
     quest::creategroundobject(12274, $x, $y, $z, $h);
}</syntaxhighlight>
== creategroundobjectfrommodel ==

      '''Parameter(s):'''

      model_name ''(string)'', x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)'', object_type ''(int)'', decay_time ''(uint32)''

      '''Usage:'''

      Creates an object on the ground with the given parameters, decay time is ms = 300000 by default.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a 17330 - Bag of Supplies at the given location
quest::creategroundobjectfrommodel("IT64_ACTORDEF", 2497, -557, -327, 58, 17330);</syntaxhighlight>
== createguild ==

      '''Parameter(s):'''

      guild_name ''(string)'', leader_name ''(string)''

      '''Usage:'''

      Creates a guild.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY{
     if (quest::createguild("Akkadius Fire", $client->GetName())) {
          $client->Message(15, "Guild has been created successfully");
     }
     else{
          $client->Message(15, "Guild creation error");
     }
}</syntaxhighlight>
== crosszonemessageplayerbyname ==

      '''Parameter(s):'''

      channel_id ''(int)'', name ''(string)'', message ''(string)''

      '''Usage:'''

      Sends a message to a client character on the specified channel. Useful for Expeditions and Shared Tasks.

      '''Example:'''

<syntaxhighlight lang="perl">quest::crosszonemessageplayerbyname(15, $name, "Hi.");</syntaxhighlight>
== crosszonesetentityvariablebyclientname ==

      '''Parameter(s):'''

      client_name ''(string)'', key ''(string)'', value ''(string)''

      '''Usage:'''

      Sets entity variables world-wide for the provided client character.

== crosszonesetentityvariablebynpctypeid ==

      '''Parameter(s):'''

      npc_type_id ''(int)'', key ''(string)'', value ''(string)''

      '''Usage:'''

      Sets entity variables world wide with specified npctype_id.

== crosszonesignalclientbycharid ==

      '''Parameter(s):'''

      character_id ''(int)'', value ''(int)''

      '''Usage:'''

      Signals the client by character ID world wide.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Signal the client character who triggered the event with "5000"
quest::crosszonesignalclientbycharid($charid,5000);</syntaxhighlight>
== crosszonesignalnpcbynpctypeid ==

      '''Parameter(s):'''

      npc_type_id ''(uint32)'', value ''(uint32)''

      '''Usage:'''

      Signals all NPC entities world-wide with the specified value.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Signal all 4036 - a_giant_rat with "99"
quest::crosszonesignalnpcbynpctypeid(4036, 99);</syntaxhighlight>
== debug ==

      '''Parameter(s):'''

      message ''(string)'', debug_level ''(uint8)''

      '''Usage:'''

      Allows you to export debug information for an event, at the specified level (1 through 3).

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ENVIRONMENTAL_DAMAGE {
     quest::debug("EVENT_ENVIRONMENTAL_DAMAGE");
     quest::debug("env_damage is " . $env_damage);
     quest::debug("env_damage_type is " . $env_damage_type);
     quest::debug("env_final_damage is " . $env_final_damage);
}</syntaxhighlight>
== delglobal ==

      '''Parameter(s):'''

      key ''(string)''

      '''Usage:'''

      Deletes a quest global. Please consider using [https://github.com/EQEmu/Server/wiki/Data-Buckets Data Buckets] instead of quest globals.

      '''Example:'''

<syntaxhighlight lang="perl">quest::delglobal("strongbox");</syntaxhighlight>
== depop ==

      '''Parameter(s):'''

      npc_type_id ''(int)''

      '''Usage:'''

      Depops an NPC by npc_type_id, default is 0 (self).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Depop self
quest::depop();</syntaxhighlight>
== depop_withtimer ==

      '''Parameter(s):'''

      npc_type_id ''(int)''

      '''Usage:'''

      Depops an NPC by npc_type_id, default is 0 (self), and restarts the spawn point timer.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Depop self and restart spawn timer
quest::depop_withtimer();</syntaxhighlight>
== depopall ==

      '''Parameter(s):'''

      npc_type_id ''(int)''

      '''Usage:'''

      Depops all NPC entities with npc_type_id in the zone. Default is 0 (self and others like me).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Depop all 4036 - a_giant_rat
quest::depopall(4036);</syntaxhighlight>
== depopzone ==

      '''Parameter(s):'''

      start_spawn_status ''(bool)''

      '''Usage:'''

      Depops the zone with the specified parameter. Default is false (don’t start spawn timers).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Depop the zone and don't start the spawn timers
quest::depopzone();</syntaxhighlight>
== ding ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Plays the beautiful ding sound, the trumpet fanfare for your glorious deeds. Congratulations, winner. You did it.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Ding!
quest::ding();</syntaxhighlight>
== disable_proximity_say ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Disables proximity say for the NPC. Proximity say must be enabled with quest::set_proximity(); and quest::enable_proximity_say();.

      '''Example:'''

<syntaxhighlight lang="perl">quest::disable_proximity_say();</syntaxhighlight>
== disable_spawn2 ==

      '''Parameter(s):'''

      spawn2_id ''(int)''

      '''Usage:'''

      Disables the spawn point specified and depops any NPC entity from that spawn point.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Disable the spawn point for 151562 - spawngroup ID 113004 - npcIDs 15138 (Droon) and 15160 (Proon)
quest::disable_spawn2(151562);</syntaxhighlight>
== disablerecipe ==

      '''Parameter(s):'''

      recipe_id ''(int)''

      '''Usage:'''

      Disables the recipe specified by Recipe ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Disable recipe 1 - Blessed Fishing Rod
quest::disablerecipe(1);</syntaxhighlight>
== disabletask ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Disables a task so that it is not available to a client character. Useful if you do not want someone to repeat a task.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Match if the player has an active task
if ($task != 0) {
     #:: Create a scalar variable to store the active speak-to activity
     $activity = quest::activespeakactivity($task);
     #:: Mark the activity as complete
     quest::updatetaskactivity($task, $activity);
     quest::say("Well done!");
     #:: Offer the next task, if there is one
     if (!quest::istaskactive($task)) {
          #:: Disable the task so that it cannot be repeated
          quest::disabletask($task);
          #:: Match if there are tasks remaining in the Task Set
          if ($task != quest::lasttaskinset(200)) {
               quest::say("Well done, I have another task if you are willing.");
               #:: Enable the next Task in the Task Set
               quest::enabletask(quest::nexttaskinset(200, $task));
          }
          #:: Match if there are no tasks remaining in the task set
          else {
               quest::say("Thank you for cleansing Qeynos Hills!");
          }
     }
}</syntaxhighlight>
== doanim ==

      '''Parameter(s):'''

      animation_id ''(int)''

      '''Usage:'''

      Makes the NPC perform the indicated [https://github.com/EQEmu/Server/wiki/Animations Animation].

      '''Example:'''

<syntaxhighlight lang="perl">#:: Perform the Cheer animation
quest::doanim(27);</syntaxhighlight>
quest::echo

      '''Parameter(s):'''

      emote_color_id ''(int)'', message ''(string)''

      '''Usage:'''

      Echoes the specified message string, in the specified color, to the client console.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Echo a message in yellow text (15)
quest::echo(15,"Hello, world");</syntaxhighlight>
== emote ==

      '''Parameter(s):'''

      message ''(string)''

      '''Usage:'''

      Makes the NPC emote the specified message string.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_DEATH_COMPLETE {
     quest::emote("'s corpse says 'How...did...ugh...'");
}</syntaxhighlight>
== enable_proximity_say ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Enables proximity say for the NPC–the target would not have to have the NPC targeted to interact if the NPC has a defined proximity and proximity say is enabled.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Set the proximity bounds around the NPC on spawn, 30 units across
     $x = $npc->GetX();
     $y = $npc->GetY();
     quest::set_proximity($x-15,$x+15,$y-15,$y+15);
     quest::enable_proximity_say();
}

sub EVENT_PROXIMITY_SAY {
     if ($text=~/Ganelorn Oast/i) {
          quest::say("Ganelorn Oast! For he has single-handedly caught more poachers than any other ranger. He is credited for helping numerous endangered species recover from certain extinction. I suppose I am lucky he is fond of my sister, as I am soon to train under him as an apprentice. Perhaps one day I will even [" . quest::saylink("call upon the flames") . "] in the way that he does.");
     }
     elsif ($text=~/call upon the flames/i) {
          quest::say("Aye, Ganelorn is renowned not only for his abilities as an archer and a master of melee combat, but also for his use of powerful magics. Never before have I seen a forester evoke a fireball of such great force. It would be any ranger's dream to become his pupil just to study that one spell. Ganelorn doesn't train just anyone, though. If you want to learn from him, I'm certain you would have to prove yourself as a forester.");
     }
     if ($text=~/I want to learn/i) {
          quest::say("He is a very busy individual. I believe he is currently in the eastern part of the Karanas trying to track down a poacher. Even if you can track him down, don't get your hopes up.");
          #:: Send a signal 2 to The Greater Faydark >> Lily_Ashwood (54086)
          quest::signalwith(54086, 2, 3);
     }
}</syntaxhighlight>
== enable_spawn2 ==

      '''Parameter(s):'''

      spawn2_id ''(int)''

      '''Usage:'''

      Enables the specified spawn point.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_DEATH_COMPLETE {
     #:: Enable the spawn timer for 151562 - spawngroup ID 113004 - npcIDs 15138 (Droon) and 15160 (Proon)
     quest::enable_spawn2(151562);
}</syntaxhighlight>
== enabledtaskcount ==

      '''Parameter(s):'''

      task_set ''(int)''

      '''Usage:'''

      Counts the enabled tasks in the specified Task Set.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Match if there are no enabled tasks in Task Set 10
if (quest::enabledtaskcount(10) == 0) {
     quest::enabletask(50, 51, 52);
}</syntaxhighlight>
== enablerecipe ==

      '''Parameter(s):'''

      recipe_id ''(int)''

      '''Usage:'''

      Enables the recipe specified by Recipe ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Enable recipe 1 - Blessed Fishing Rod
quest::enablerecipe(1);</syntaxhighlight>
== enabletask ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Enables a task.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Match if the player has an active task
if ($task != 0) {
     #:: Create a scalar variable to store the active speak-to activity
     $activity = quest::activespeakactivity($task);
     #:: Mark the activity as complete
     quest::updatetaskactivity($task, $activity);
     quest::say("Well done!");
     #:: Offer the next task, if there is one
     if (!quest::istaskactive($task)) {
          #:: Disable the task so that it cannot be repeated
          quest::disabletask($task);
          #:: Match if there are tasks remaining in the Task Set
          if ($task != quest::lasttaskinset(200)) {
               quest::say("Well done, I have another task if you are willing.");
               #:: Enable the next Task in the Task Set
               quest::enabletask(quest::nexttaskinset(200, $task));
          }
          #:: Match if there are no tasks remaining in the task set
          else {
               quest::say("Thank you for cleansing Qeynos Hills!");
          }
     }
}</syntaxhighlight>
== enabletitle ==

      '''Parameter(s):'''

      title_set_id ''(int)''

      '''Usage:'''

      Enables the specified Title Set.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ITEM_CLICK {
     #:: Match if item 98471 - Mastering Tinkering Master I is clicked
     if ($itemid == 98471) {
          #:: Tinkering Mastery AA ID 575 Rank 1
          $client->GrantAlternateAdvancementAbility(575,1,0);
          #:: Send a message in Yellow (15) text
          $client->Message(15,"You have mastered tinkering!");
          #:: Ding!
          quest::ding();
          #:: Enable tinkering mastery title set
          quest::enabletitle(10);
     } 
}</syntaxhighlight>
== exp ==

      '''Parameter(s):'''

      amount ''(int)''

      '''Usage:'''

      Gives the amount of [https://github.com/EQEmu/Server/wiki/Experience-by-Level experience] specified to the client character.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Grant 100 experience points
quest::exp(100);</syntaxhighlight>
== faction ==

      '''Parameter(s):'''

      faction_id ''(int)'', value ''(int)'', temp ''(int)''

      '''Usage:'''

      Gives the client character the faction, specified by Faction ID, in the amount specified by value. Temp is optional, and defaults to 0. Temp values are: 0 (permanent, with a message), 1 (temporary, without a message), 2 (temporary, with a message), or 3 (permanent, without a message).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set faction
quest::faction(192,10);     #:: +10 League of Antonican Bards
quest::faction(184,10);     #:: +10 Knights of Truth
quest::faction(135,10);     #:: +10 Guards of Qeynos
quest::faction(273,-30);    #:: -30 Ring of Scale</syntaxhighlight>
== factionvalue ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Returns faction values for the client character that triggered the event. Generally the opposite values of <math display="inline">faction, with 1 being "scowls" and 9 being "ally" (</math>faction considers 1 to be “ally”, and 9 “scowls”).

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     if ($text=~/hail/i) {     
          #:: Create a scalar variable for storing faction
          my $backwardfaction = quest::factionvalue();  #:: Returns int
          quest::say("Your faction is $faction, but your faction is $backwardfaction");  #:: $faction is pre-exported and returns int
     }
}</syntaxhighlight>
== failtask ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Fails the task, by Task ID, for the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Fail Task 216
quest::failtask(216);</syntaxhighlight>
== firsttaskinset ==

      '''Parameter(s):'''

      task_set ''(int)''

      '''Usage:'''

      Returns the first task in the specified Task Set.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: If the player hasn't completed the last task in the Task Set
     if (!quest::istaskcompleted(quest::lasttaskinset(200))) {
          #:: If the player has no tasks enabled for this task set, enable the first one
          if (quest::enabledtaskcount(200) == 0) {
               quest::say("You have not done any of my tasks before!");
               #:: Enable the first task in Task Set 200
               quest::enabletask(quest::firsttaskinset(200));
          }
     }
}</syntaxhighlight>
== follow ==

      '''Parameter(s):'''

      entity_id ''(int)'', distance ''(int)''

      '''Usage:'''

      Used to make an NPC follow another NPC, specified by Entity ID. The distance determines how many units the NPC will follow behind the specified NPC, with a default value of 10; distance is optional.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Create a timer that triggers every 10 seconds
     quest::settimer("follow",10);
}

sub EVENT_TIMER {
     #:: Match if the timer is named "follow"
     if ($timer eq "follow") {
          #:: Create a scalar variable to store the NPC Type ID for mob 2161
          my $getmobbynpctype = $entity_list->GetMobByNpcTypeID(2161);
          #:: Create a scalar variable to store the Entity ID of the aforementioned NPC
          my $follow_target = $getmobbynpctype->GetID();
          #:: Follow the NPC at a default distance of 10 units
          quest::follow($follow_target);
          #:: Clean up and stop the timer
          quest::stoptimer("follow");
     }
}</syntaxhighlight>
== forcedoorclose ==

      '''Parameter(s):'''

      door_id ''(int)'', alt_mode ''(bool)''

      '''Usage:'''

      Forces a door, by Door ID, to close. Alt_Mode is default false.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Close Door ID 31 in Befallen
quest::forcedoorclose(31);</syntaxhighlight>
== forcedooropen ==

      '''Parameter(s):'''

      door_id ''(int)'', alt_mode ''(bool)''

      '''Usage:'''

      Forces a door, by Door ID, to open. Alt_Mode is default false.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Open Door ID 31 in Befallen
quest::forcedooropen(31);</syntaxhighlight>
== get_rule ==

      '''Parameter(s):'''

      rule_name ''(string)''

      '''Usage:'''

      Returns the value of the specified [https://github.com/EQEmu/Server/wiki/Server-Rules Rule] for the zone you’re in.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Get the rule value for rule "Zone:UseZoneController"
sub EVENT_SAY {
    if ($text=~/Hail/i) {
        plugin::Whisper(quest::get_rule("Zone:UseZoneController")); #:: Whispers rule value to client.
    }
}</syntaxhighlight>
== get_spawn_condition ==

      '''Parameter(s):'''

      zone_short ''(string)'', instance_id ''(int)'', condition_id ''(int)''

      '''Usage:'''

      Returns the value of the specified spawn condition.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Get the Spawn Condition for Condition ID 1, in the default instance of Lesser Faydark
quest::get_spawn_condition("lfaydark", 0, 1);  #:: Returns int</syntaxhighlight>
== getguildnamebyid ==

      '''Parameter(s):'''

      guild_id ''(uint32)''

      '''Usage:'''

      Returns the name of the Guild for the specified Guild ID.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CONNECT {
     #:: Announce the name of the client character that triggered the event in GM Say
     quest::gmsay("$name has connected.", 18, 1);
     #:: Announce the Account Name of the client character that triggered the event in GM Say
     quest::gmsay(" Account Name: " . $client->AccountName() . " - Status: $status", 18, 1);
     #:: Match if the client character has a guild
     if ($uguild_id > 0) {
          #:: Create a scalar variable to store the name of the client character's guild
          my $guildname = quest::getguildnamebyid($uguild_id);
          #:: Announce the client character's information in GM Say
          quest::gmsay("(Character Profile: Level $ulevel $race $class) <$guildname>)", 18, 1);
     }
     #:: Match if the client character does not have a guild
     else {
          #:: Announce the client character's information in GM Say
          quest::gmsay("(Character Profile: Level $ulevel $race $class) <No Guild>", 18, 1);
     }
}</syntaxhighlight>
== getinventoryslotid ==

      '''Parameter(s):'''

      identifier ''(string)''

      '''Usage:'''

      Returns the Inventory Slot ID for the specified identifier. Reference [https://github.com/EQEmu/Server/wiki/Perl-Inventory-Slot-Identifiers Perl Inventory Slot Identifiers] for appropriate identifier tokens.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store an item ID
my $charmitem = $client->GetItemIDAt(quest::getinventoryslotid("charm"));  #:: returns int</syntaxhighlight>
== getlevel ==

      '''Parameter(s):'''

      type ''(int)''

      '''Usage:'''

      Returns the level for the Type specified. Types can be 0 (self), 1 (group average), 2 (raid average), 3 (raid average, group average, or self), or 4 (self level 2–the highest level attained by self).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Get the level of the client character
quest::getlevel(0);  #:: Returns int</syntaxhighlight>
== getplayerburiedcorpsecount ==

      '''Parameter(s):'''

      character_id ''(int)''

      '''Usage:'''

      Returns the number of corpses for the specified Character ID that are buried.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Get the number of burried corpses for character ID 12345
quest::getplayerburriedcorpsecount(12345); #:: return int</syntaxhighlight>
== gettaskactivitydonecount ==

      '''Parameter(s):'''

      task_id ''(int)'', activity_id ''(int)''

      '''Usage:'''

      Returns the task activity done count, by Task ID and Activity ID, for the client entity.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Find out how many times the client character has killed 10 beetles in Unrest
quest::gettaskactivitydonecount(15,3);  #:: Returns int</syntaxhighlight>
== givecash ==

      '''Parameter(s):'''

      copper ''(int)'', silver ''(int)'', gold ''(int)'', platinum ''(int)''

      '''Usage:'''

      Gives the specified amount of money to the client that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a hash for storing cash - 20 to 100cp
my %cash = plugin::RandomCash(20,100);
#:: Grant a random cash reward
quest::givecash($cash{copper},$cash{silver},$cash{gold},$cash{platinum});</syntaxhighlight>
== gmmove ==

      '''Parameter(s):'''

      x ''(float)'', y ''(float)'', z ''(float)''

      '''Usage:'''

      Moves the entity to the specified coordinates.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Create a timer that loops each second
     quest::settimer("position",1);
}

sub EVENT_TIMER {
     #:: Create a scalar variable to store the X position of the NPC
     my $x = $npc->GetX();
     #:: Create a scalar variable to store the Y position of the NPC
     my $y = $npc->GetY();
     #:: Match if the timer "position" has looped and the X and Y coordinates are outside the specified range
     if ($timer eq "position" && ($x < -353 || $x > -109 || $y < -549 || $y > -310)) {
          quest::shout("No! I must not leave the time chamber! If I do, I'll age and die!");
          #:: Move the NPC back to the chamber
          $npc->GMMove(-231.464005,-432.937469,202.375946,.125);
     }
}

sub EVENT_DEATH_COMPLETE {
     quest::stoptimer("position");
}</syntaxhighlight>
== gmsay ==

      '''Parameter(s):'''

      message ''(string)'', color_id ''(int)'', send_to_world ''(bool)'', guild_id ''(uint32)'', minstatus ''()''

      '''Usage:'''

      Sends a message to the client console if the parameters are met. [https://github.com/EQEmu/Server/wiki/Emote-Colors Color], Send to World, Guild ID, and Minimum Status are all optional, but Color defaults to 0 (white), Send to World defaults to 0 (false), and Minimum Status defaults to 80.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send white text to all players in the current zone with an admin status of >= 80
quest::gmsay("Text");
#:: Send yellow (15) text to all players in the current zone with an admin status of >= 80
quest::gmsay("Text", 15);
#:: Send yellow (15) text to all players with an admin status of >= 80 in all zones
quest::gmsay("Text", 15, 1);
#:: Send yellow (15) text to all players with an admin status of >= 80 in all zones, who are in a guild with a Guild ID of 30
quest::gmsay("Text", 15, 1, 30);
#:: Send yellow (15) text to all players with an admin status of >= 0 in all zones, who are in a guild with a Guild ID of 30
quest::gmsay("Text", 15, 1, 30, 0);</syntaxhighlight>
== has_zone_flag ==

      '''Parameter(s):'''

      zone_id ''(uint32)''

      '''Usage:'''

      Used to verify that a client character has the required zone flag for the specified zone.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CLICKDOOR {
     if ($doorid == 12) {
          if (quest::has_zone_flag(200) != 1) {  #:: Returns bool
               quest::set_zone_flag(200);
          }
     }
}</syntaxhighlight>
== incstat ==

      '''Parameter(s):'''

      stat_id ''(int)'', value ''(int)''

      '''Usage:'''

      Increases the specified stat by double the specified value. Stat IDs: STR = 0, STA = 1, AGI = 2, DEX = 3, INT = 4, WIS = 5, CHA = 6. Note: if you’re increasing stats, the client will have to zone to see the effect.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Increase STR by 20
quest::incstat(0, 10);</syntaxhighlight>
== isdisctome ==

      '''Parameter(s):'''

      item_id ''(int)''

      '''Usage:'''

      Used to check if the specified item, by Item ID, is a discipline tome. You likely have a plugin for this (plugin::try_tome_handins).

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ITEM {
     quest::traindisc($item1) if (quest::isdisctome($item1));
     quest::traindisc($item2) if (quest::isdisctome($item2));
     quest::traindisc($item3) if (quest::isdisctome($item3));
     quest::traindisc($item4) if (quest::isdisctome($item4));
}</syntaxhighlight>
== isdooropen ==

      '''Parameter(s):'''

      door_id ''(int)''

      '''Usage:'''

      Checks to see if the specified door is open.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CLICKDOOR {
     my $doorcheck = quest::isdooropen(41);  #:: Returns bool
     if ($doorid == 41 && $doorcheck == 0) {
          quest::forcedooropen(41);
     }
}</syntaxhighlight>
== istaskaappropriate ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Used to see if a task is set for the appropriate level for the client character who initiated the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check if task 200 is appropriate
quest::istaskaappropriate(200);  #:: Returns bool</syntaxhighlight>
== istaskactive ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Used to determine if a task is active, by Task ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check if task 212 is active
quest::istaskactive(212); #:: Returns bool</syntaxhighlight>
== istaskactivityactive ==

      '''Parameter(s):'''

      task_id ''(int)'', activity_id ''(int)''

      '''Usage:'''

      Used to determine if a task activity is active, by Task ID and Activity ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check if Activity 9 of Task 212 is active 
quest::istaskactivityactive(212, 9); #:: Returns bool</syntaxhighlight>
== istaskcompleted ==

      '''Parameter(s):'''

      task_id (int)

      '''Usage:'''

      Used to determine if a task is completed, by Task ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check if task 212 is completed
quest::istaskcompleted(212); #:: Returns bool</syntaxhighlight>
== istaskenabled ==

      '''Parameter(s):'''

      task_id (int)

      '''Usage:'''

      Used to determine if a task is enabled, by Task ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Check if task 212 is enabled
quest::istaskenabled(212); #:: Returns bool</syntaxhighlight>
== itemlink ==

      '''Parameter(s):'''

      item_id ''(int)''

      '''Usage:'''

      Used to send a link of the specified item, by Item ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send an item link for a 1001 - Cloth Cap
quest::itemlink(1001);</syntaxhighlight>
== lasttaskinset ==

      '''Parameter(s):'''

      task_set ''(int)''

      '''Usage:'''

      Returns the last task in the specified Task Set.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Find the Task ID of the last task in Task Set 200
quest::lasttaskinset(200); #:: Returns int</syntaxhighlight>
== level ==

      '''Parameter(s):'''

      new_level ''(int)''

      '''Usage:'''

      Sets the level to the specified new level for the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     if ($text=~/level/i) {
          #:: Match if user's level is 20 or under
          if ($ulevel <= 20) {
               #:: Give the player one more level
               quest::level($ulevel+1);
          }
          elsif ($ulevel >= 21) {
               $npc->CastSpell(808, $userid);
               quest::say("Begone!");
          }
     }
}</syntaxhighlight>
== me ==

      '''Parameter(s):'''

      message ''(string)''

      '''Usage:'''

      Sends an emote without a name.

      '''Example:'''

<syntaxhighlight lang="perl">quest::me("This creature has no need for your money.");</syntaxhighlight>
== movegrp ==

      '''Parameter(s):'''

      zone_id ''(int)'', x ''(float)'', y ''(float)'', z ''(float)''

      '''Usage:'''

      Moves the group of the client character that triggered the event to the specified Zone, by Zone ID, to the location specified.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Match text for "we are ready", case insensitive
if ($text=~/We are ready/i) {
     #:: Move the group to The Plane of Nightmares (ponightmare) at X=1194, Y=1121, Z=208
     quest::movegrp(204,1194,1121,280); 
}</syntaxhighlight>
== movepc ==

      '''Parameter(s):'''

      zone_id ''(int)'', x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)''

      '''Usage:'''

      Moves the client character that triggered the event to the specified zone, by Zone ID, at the specified location. Heading is optional, but will default to 0 (North).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Match text for "travel to butcherblock", case insensitive
if ($text=~/travel to butcherblock/i) {
     #:: Move the character to Butcherblock Mountains (butcher), at X=3168.92, Y=851.92, Z=11.66--the Southern dock
     quest::movepc(68,3168.92,851.92,11.66);
}</syntaxhighlight>
== moveto ==

      '''Parameter(s):'''

      x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)'', save_guard_location ''(bool)''

      '''Usage:'''

      Used to move the NPC to the specified location. Heading and Save Guard Location are optional. Heading will default to 0 (North), and Save Guard Location will also default to 0, causing the NPC to path back. Set Save Guard Location to 1 to make the NPC stay at the moveto location.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ITEM {
     #:: Match a 12278 - Abandoned Orc Shovel
     if (plugin::takeItems(12278 => 1)) {
          #:: 0=Stand, 1=Sit, 2=Duck, 3=Feign Death, 4=Kneel
          $npc->SetAppearance(0);
          #:: Move to the specified location and guard 
          quest::moveto(-395.87, 807.04, 70.53, 0, 1);
     }
     #:: Return unused items
     plugin::returnUnusedItems();
}</syntaxhighlight>
== nexttaskinset ==

      '''Parameter(s):'''

      task_set ''(int)'', task_id ''(int)''

      '''Usage:'''

      Returns the next task in the specified Task Set that comes after the specified Task ID.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     #:: Create a scalar variable to store a task integer
     $task = quest::activespeaktask();
     #:: Match if there is an active task to speak to the NPC
     if ($task != 0) {
          #:: Match if there are no active tasks for the current speaking task
          if (!quest::istaskactive($task)) {
               #:: Disable the current speaking task
               quest::disabletask($task);
               #:: Match if the current speaking task is NOT the last task in the Task Set
               if ($task != quest::lasttaskinset(200)) {
                    quest::say("Well done, I have another task if you are willing.");
                    #:: Enable the next task in Task Set 200
                    quest::enabletask(quest::nexttaskinset(200, $task));
               }
               else {
                    quest::say("Thank you for cleansing Qeynos Hills!");
               }
          }
     }
}</syntaxhighlight>
== npcfeature ==

      '''Parameter(s):'''

      feature ''(string)'', value ''(int)''

      '''Usage:'''

      Allows you to temporarily change the specified feature on the NPC to the specified value. Allowable features are: race, gender, texture, helm, haircolor, beardcolor, eyecolor1, eyecolor2, hair, face, beard, heritage, tatoo, details, and size.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the NPC's size to 10
quest::npcfeature("size", 10);</syntaxhighlight>
== npcgender ==

      '''Parameter(s):'''

      gender_id ''(int)''

      '''Usage:'''

      Used to temporarily change the gender of the NPC as specified: 0 = Male, 1 = Female, 2 = Neuter.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the NPC's gender to female
quest::npcgender(1);</syntaxhighlight>
== npcrace ==

      '''Parameter(s):'''

      race_id ''(int)''

      '''Usage:'''

      Used to temporarily change an NPC’s [https://github.com/EQEmu/Server/wiki/Race-Types Race].

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the NPC's Race to Golem (17)
quest::npcrace(17);</syntaxhighlight>
== npcsize ==

      '''Parameter(s):'''

      size ''(int)''

      '''Usage:'''

      Used to temporarily change the NPC’s size.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the NPC's size to 17
quest::npcsize(17);</syntaxhighlight>
== npctexture ==

      '''Parameter(s):'''

      texture_id ''(int)''

      '''Usage:'''

      Used to temporarily change the NPC’s texture.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the NPC's texture to 2
quest::npctexture(2);</syntaxhighlight>
== pause ==

      '''Parameter(s):'''

      duration-ms ''(int)''

      '''Usage:'''

      Forces the NPC to pause for the specified duration in ms.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Pause for 1 second
quest::pause(1000);</syntaxhighlight>
== permaclass ==

      '''Parameter(s):'''

      class_id ''(int)''

      '''Usage:'''

      Permanently changes the class of the client character that triggered the event to the specified class, and disconnects them.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change class to Warrior
quest::permaclass(1);</syntaxhighlight>
== permagender ==

      '''Parameter(s):'''

      gender_id ''(int)''

      '''Usage:'''

      Permanently changes the gender of the client character that triggered the event to the specified gender, and disconnects them.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change gender 0 = Male, 1 = Female, 2 = Neuter.
quest::permagender(0);</syntaxhighlight>
== permarace ==

      '''Parameter(s):'''

      race_id ''(int)''

      '''Usage:'''

      Permanently changes the [https://github.com/EQEmu/Server/wiki/Race-Types Race Type] of the client character that triggered the event to the specified race, and disconnects them.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change race to Human
quest::permarace(1);</syntaxhighlight>
== playerfeature ==

      '''Parameter(s):'''

      feature ''(string)'', setting ''(int)''

      '''Usage:'''

      Temporarily changes the player feature to the specified setting. Acceptable strings are: race, gender, texture, helm, haircolor, beardcolor, eyecolor1, eyecolor2, hair, face, beard, heritage, tattoo, details, or size.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change race to Human
quest::playerfeature("race", 1);</syntaxhighlight>
== playergender ==

      '''Parameter(s):'''

      gender_id ''(int)''

      '''Usage:'''

      Temporarily changes the gender of the client character that triggered the event to the specified gender.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change gender 0 = Male, 1 = Female, 2 = Neuter.
quest::playergender(0);</syntaxhighlight>
== playerrace ==

      '''Parameter(s):'''

      race_id ''(int)''

      '''Usage:'''

      Temporarily changes the [https://github.com/EQEmu/Server/wiki/Race-Types Race Type] of the client character that triggered the event to the specified race.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change race to Human
quest::playerrace(1);</syntaxhighlight>
== playersize ==

      '''Parameter(s):'''

      newsize ''(int)''

      '''Usage:'''

      Temporarily adjusts the size of the client character that triggered the event to the specified size.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change size to 10
quest::playersize(10);</syntaxhighlight>
== playertexture ==

      '''Parameter(s):'''

      texture_id ''(int)''

      '''Usage:'''

      Temporarily changes the texture of the client character that triggered the event to the specified texture.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change texture to 2
quest::playertexture(2);</syntaxhighlight>
== popup ==

      '''Parameter(s):'''

      window_title ''(string)'', message ''(string)'', popup_id ''(int)'', buttons ''(int)'', duration ''(int)''

      '''Usage:'''

      Used to create a popup window with the specified parameters. The parameters popup_id, buttons, and duration are optional. Button parameters are: 0=OK button, 1=Yes/No buttons. Setting duration to 0 results in a popup that will remain until dismissed.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ENTER {
     #:: Popup window entitled "Teleport", Question: "Teleport to The Plane of Hate?", popup ID 666, Yes/No buttons, remain until dismissed
     quest::popup('Teleport', 'Teleport to The Plane of Hate?', 666, 1, 0);
}

sub EVENT_POPUPRESPONSE {
     if ($popupid == 666) {
          #:: Teleport the player to The Plane of Hate
          quest::movepc(186,-393,656,3);
     }
}</syntaxhighlight>
== pvp ==

      '''Parameter(s):'''

      mode ''(string)''

      '''Usage:'''

      Toggles the PVP setting for the client character that triggered the event. String can be on, or off.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Turn pvp on
quest::pvp("on");
#:: Turn pvp off
quest::pvp("off");</syntaxhighlight>
== qs_player_event ==

      '''Parameter(s):'''

      character_id ''(int)'', message ''(string)''

      '''Usage:'''

      Adds a record to table <code>qs_player_events</code> with the specified parameters.

      '''Example:'''

<syntaxhighlight lang="perl">quest::qs_player_event($charid,"Triggered an event with this API call in it.")</syntaxhighlight>
== qs_send_query ==

      '''Parameter(s):'''

      query ''(string)''

      '''Usage:'''

      Send a raw query to the QueryServ process.

      '''Example:'''

<syntaxhighlight lang="perl">quest::qs_send_query("SELECT * FROM `qs_player_events` WHERE `event_desc` LIKE '%level%' LIMIT 0,1000;");</syntaxhighlight>
== rain ==

      '''Parameter(s):'''

      weather ''(int)''

      '''Usage:'''

      Changes the rainy weather to the specified setting: 0=none, 1=rain. See also quest::snow().

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ZONE {
     if ($name=~/turmoiltoad/i) {
          #:: Turn on the rain for those left behind
          quest::rain(1);
     }
}</syntaxhighlight>
== rebind ==

      '''Parameter(s):'''

      zone_id ''(int)'', x ''(float)'', y ''(float)'', z ''(float)''

      '''Usage:'''

      Binds the client character that triggered the event to the specified zone (by Zone ID) at the specified location.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change bind point to Rivervale, X=0, Y=0, Z=3.13
quest::rebind(19, 0.00, 0.00, 3.13);</syntaxhighlight>
== removetitle ==

      '''Parameter(s):'''

      title_set_id ''(int)''

      '''Usage:'''

      Removes the specified Title Set from the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Remove Title Set 2 (prefix "Arbiter", suffix "Harbinger of the Old World")
quest::removetitle(2);</syntaxhighlight>
== repopzone ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Repops the zone and re-enables spawn timers.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Repop the zone
quest::repopzone();</syntaxhighlight>
== resettaskactivity ==

      '''Parameter(s):'''

      task_id ''(int)'', activity_id ''(int)''

      '''Usage:'''

      Sets the done count to 0 for the specified Task ID

      '''Example:'''

<syntaxhighlight lang="perl">#:: Reset the activity done count for task 202
quest::resettaskactivity(202);</syntaxhighlight>
== respawn ==

      '''Parameter(s):'''

      npc_type_id ''(int)'', grid_id ''(int)''

      '''Usage:'''

      Respawns the specified NPC by npc_type ID on the specified grid. This is similar to quest::spawn2(), but without the specified x, y, z, heading parameters.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Spawn Fippy Darkpaw again
quest::respawn(2001);</syntaxhighlight>
== resume ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Used to resume pathing on a grid that has been stopped.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Resume pathing on grid
quest::resume();</syntaxhighlight>
== safemove ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Moves the client character that triggered the event to the safe coordinates of the current zone.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Move to safe
quest::safemove();</syntaxhighlight>
== save ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Saves the character data for the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Save Save Save
quest::save();</syntaxhighlight>
== say ==

      '''Parameter(s):'''

      message ''(string)'', language_id ''(int)''

      '''Usage:'''

      Used to make your NPC speak. [https://github.com/EQEmu/Server/wiki/Languages Language] ID is optional–if not specified, the NPC will speak in common tongue.

      '''Example:'''

<syntaxhighlight lang="perl">quest::say("Hello.");
#:: Now in Barbarian
quest::say("Hello.", 1);</syntaxhighlight>
== saylink ==

      '''Parameter(s):'''

      message ''(string)'', silent ''(bool)''

      '''Usage:'''

      Used to create a say link. The silent parameter bools false by default, and is optional.

      '''Example:'''

<syntaxhighlight lang="perl">quest::say("This is [" . quest::saylink("purple text") . "] that you can click.");</syntaxhighlight>
== scribespells ==

      '''Parameter(s):'''

      max_level ''(int)'', min_level ''(int)''

      '''Usage:'''

      Used to add spells to the spell book of the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Scribe all spells up to current level
quest::scribespells($ulevel,1);</syntaxhighlight>
== selfcast ==

      '''Parameter(s):'''

      spell_id ''(int)''

      '''Usage:'''

      Used to cause client characters to cast the specified spell on themselves.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Not with your hand, with MY hand!
quest::selfcast(521);</syntaxhighlight>
== set_proximity ==

      '''Parameter(s):'''

      min_x ''(float)'', max_x ''(float)'', min_y ''(float)'', max_y ''(float)'', min_z ''(float)'', max_z ''(float)'', say ''(bool)''

      '''Usage:'''

      Used to create a proximity around an NPC. Necessary to define for both EVENT_ENTER and EVENT_PROXIMITY_SAY (bool the say parameter to true to use this event). Z min/max and enabling proximity say are both optional.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Grab the NPC's location
     $x = $npc->GetX();
     $y = $npc->GetY();
     $z = $npc->GetZ();
     #:: Enable proximity 30 units across, 30 units high, and turn ON proximity say
     quest::set_proximity($x-15, $x+15, $y-15, $y+15, $z-15, $z+15, 1);
}

sub EVENT_PROXIMITY_SAY {
    #:: Match say message for "hail", /i for case insensitive
    if ($text=~/hail/i) {
        quest::say("Hello, $name!");
    }
}

sub EVENT_ENTER {
    #:: Say "hello" when someone nears
    quest::say("Hello, $name!");
}</syntaxhighlight>
== set_zone_flag ==

      '''Parameter(s):'''

      zone_id ''(uint32)''

      '''Usage:'''

      Used to set a zone flag for the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     if ($text=~/Darkness Beckons/i &&  defined $qglobals{pop_pon_construct} &&  defined $qglobals{pop_pon_hedge_jezith}) {
          $client->Message(1,"Very well mortal... you shall pass into the Lair of Terris Thule");
          $client->Message(2,"You now have access to the Lair of Terris Thule!");
          quest::set_zone_flag(221);
     }
}</syntaxhighlight>
== setallskill ==

      '''Parameter(s):'''

      value ''(int)''

      '''Usage:'''

      Sets all [https://github.com/EQEmu/Server/wiki/Skills Skills] to the specified value. You might want to consider a slightly more pinpoint approach like that found in the [https://github.com/EQEmu/Server/wiki/Buff-your-Players#Skill_Maxer_PERL Skill Maxer] bot.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set every possible skill to 300--you probably shouldn't do this.
quest::setallskill(300);</syntaxhighlight>
== setanim ==

      '''Parameter(s):'''

      npc_type_id ''(int)'', appearance_number ''(int)''

      '''Usage:'''

      Used to make the NPC, specified by npc_type ID, to do the specified animation. Parameters for the appearance are: 0=Stand, 1=Sit, 2=Duck, 3=Feign Death, 4=Kneel

      '''Example:'''

<syntaxhighlight lang="perl">#:: Make Fippy Darkpawn FD (he's going to die anyhow)
quest::(2001, 3);</syntaxhighlight>
== setglobal ==

      '''Parameter(s):'''

      key ''(string)'', value ''(string)'', options ''(int)'', duration ''(string)''

      '''Usage:'''

      Used to set a quest global. '''Consider using [https://github.com/EQEmu/Server/wiki/Data-Buckets Data Buckets] instead.''' Note that the name of the global is case sensitive.

{|
! '''Option'''
! '''NPC ID'''
! '''Player'''
! '''Zone'''
|-
| 0
| Current 
| Current 
| Current
|-
| 1
| All 
| Current 
| Current
|-
| 2
| Current 
| All 
| Current
|-
| 3
| All 
| All 
| Current
|-
| 4
| Current 
| Current 
| All
|-
| 5
| All 
| Current 
| All
|-
| 6
| Current 
| All 
| All
|-
| 7
| All 
| All 
| All
|}

{|
! '''Duration'''
! '''Type'''
! '''Example'''
|-
| S
| Seconds
| S15 = 15 Seconds
|-
| M
| Minutes
| M30 = 30 Minutes
|-
| H
| Hours  
| H12 = 12 Hours
|-
| D
| Days   
| D90 = 90 Days
|-
| Y
| Years  
| Y5 = 5 Years
|-
| F
| Forever
| Never expires.
|}

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set the qglobal "Example", to a value of "1", for all NPCs and zone, and last forever
quest::setglobal("Example", 1, 5, "F");</syntaxhighlight>
== setguild ==

      '''Parameter(s):'''

      guild_id ''(int)'', guild_rank_id ''(int)''

      '''Usage:'''

      Sets the specified guild, by Guild ID, and the specified guild rank, by Rank ID, for the client character that triggered the event. Ranks are: 0=Member, 1=Officer, 2=Leader.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Add to guild 24
quest::setguild(24,0);</syntaxhighlight>
== sethp ==

      '''Parameter(s):'''

      mob_health_percentage ''(int)''

      '''Usage:'''

      Used to set the percentage (0 to 100) of health for the NPC.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Restore HP to 50 percent
quest::sethp(50);</syntaxhighlight>
== setlanguage ==

      '''Parameter(s):'''

      skill_id ''(int)'', value ''(int)''

      '''Usage:'''

      Used to set the specified [https://github.com/EQEmu/Server/wiki/Languages Language] to the specified skill level (0 to 100).

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ENTERZONE {
    #:: Set common tongue to 1 for any new player that is not human
    if ($race ne "Human") {
        if (!defined $qglobals{"newbiecommon"}) {
            $client->SetLanguageSkill(0, 1);
            quest::setglobal("newbiecommon", 1, 5, "F");
        }
    }
}</syntaxhighlight>
== setnexthpevent ==

      '''Parameter(s):'''

      at_mob_percentage ''(int)''

      '''Usage:'''

      Used to set an HP event (to trigger EVENT_HP). When the NPC’s health decreases to reach this threshold, the event will be triggered.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Trigger EVENT_HP at 90 percent
     quest::setnexthpevent(90);
}

sub EVENT_HP {
     #:: Match if HP is 90 percent
     if ($hpevent == 90) {
          quest::shout("My hit points have reached 90 percent!");
          #:: Trigger EVENT_HP at 80 percent
          quest::setnexthpevent(80);
     }
     elsif ($hpevent == 80) {
          quest::shout("My hit points have reached 80 percent!");
     }
}</syntaxhighlight>
== setnextinchpevent ==

      '''Parameter(s):'''

      at_mob_percentage ''(int)''

      '''Usage:'''

      Used to set an HP event (to trigger EVENT_HP). When the NPC’s health increases to reach this threshold, the event will be triggered.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Trigger EVENT_HP at 90 percent
     quest::setnexthpevent(90);
}

sub EVENT_HP {
     #:: Match if hit points decrease to 90 percent
     if ($hpevent == 90) {
          quest::shout("My hit points have reached 90 percent--you better keep trying!");
          #:: Trigger EVENT_HP at 91 percent
          quest::setnextinchpevent(91);
     }
     #:: Match if hit points increase to 91 percent
     if ($inchpevent == 91) {
          quest::shout("You are no match for my power!");
          quest::sethp(100);
     }
}</syntaxhighlight>
== set_rule ==

      '''Parameter(s):'''

      rule_name ''(string)'', rule_value ''(string)''

      '''Usage:'''

      Used to set the specified [https://github.com/EQEmu/Server/wiki/Server-Rules Rule] to the specified value.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set Character:MaxLevel to 100 for the current zone.
quest::set_rule("Character:MaxLevel", 100);</syntaxhighlight>
== setskill ==

      '''Parameter(s):'''

      skill_id ''(int)'', value ''(int)''

      '''Usage:'''

      Used to set the specified [https://github.com/EQEmu/Server/wiki/Skills Skill] to the specified value.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set baking to 100
quest::setskill(60, 100);</syntaxhighlight>
== setsky ==

      '''Parameter(s):'''

      sky ''(uint8)''

      '''Usage:'''

      Sets the parameter for the sky (0 to 255)

      '''Example:'''

<syntaxhighlight lang="perl">#:: Turn the sky red
quest::setsky(250);</syntaxhighlight>
== setstat ==

      '''Parameter(s):'''

      stat_id ''(int)'', value ''(int)''

      '''Usage:'''

      Sets the specified stat to the specified value (0 to 252). Stats are: STR=0, STA=1, AGI=2, DEX=3, INT=4; WIS=5, CHA=6.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set STR to 250
quest::setstat(0, 250);</syntaxhighlight>
== settarget ==

      '''Parameter(s):'''

      target_enum ''(string)'', target_id ''(int)''

      '''Usage:'''

      Sets the target, by Target ID, for the specified target_enum (either npc_type ID or entity ID).

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     my @clist = $entity_list->GetClientList();
     foreach my $c (@clist) {
          #:: Tell Fippy to kill!
          quest::settarget(2001, $c);
     }
}</syntaxhighlight>
== settime ==

      '''Parameter(s):'''

      new_hour ''(int)'', new_min ''(int)'', update_world ''(bool)''

      '''Usage:'''

      Sets the time for the zone or the world to the specified hour and minute. Update world is optional, but defaults to true–setting it to false makes the time change only apply to the current zone.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Make it 5 o'clock somewhere
quest::settime(17,0);
#:: No--make it 5 o'clock everywhere!
quest::settime(17);</syntaxhighlight>
== settimer ==

      '''Parameter(s):'''

      timer_name ''(string)'', seconds ''(int)''

      '''Usage:'''

      Sets a timer (in seconds) that will loop until you stop it. Gets caught by EVENT_TIMER.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Set a timer that loops every 300 seconds (5 min)
     quest::settimer("despawn", 300);
}

sub EVENT_TIMER {
     if ($timer eq "despawn") {
          #:: Stop the timer from looping over and over
          quest::stoptimer("despawn");
          #:: Depop
          quest::depop();
     }
}</syntaxhighlight>
== settimerMS ==

      '''Parameter(s):'''

      timer_name ''(string)'', milliseconds ''(int)''

      '''Usage:'''

      Sets a timer (in milliseconds) that will loop until you stop it. Gets caught by EVENT_TIMER. Note that the Lua timer function is in milliseconds as well.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Set a timer that loops every 300000 milliseconds (5 min)
     quest::settimerMS("despawn", 300000);
}

sub EVENT_TIMER {
     if ($timer eq "despawn") {
          #:: Stop the timer from looping over and over
          quest::stoptimer("despawn");
          #:: Depop
          quest::depop();
     }
}</syntaxhighlight>
== sfollow ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Used to stop quest::follow();.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Stop following
quest::sfollow();</syntaxhighlight>
== shout ==

      '''Parameter(s):'''

      message ''(string)''

      '''Usage:'''

      Makes the NPC shout a message to the zone.

      '''Example:'''

<syntaxhighlight lang="perl">quest::shout("Let it all out!");</syntaxhighlight>
== shout2 ==

      '''Parameter(s):'''

      message ''(string)''

      '''Usage:'''

      Makes the NPC shout a message to the world.

      '''Example:'''

<syntaxhighlight lang="perl">quest::shout2("Let it all out!");</syntaxhighlight>
== showgrid ==

      '''Parameter(s):'''

      grid_id ''(int)''

      '''Usage:'''

      Displays the pathing grid specified by Grid ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Show grid 20
quest::showgrid(20);</syntaxhighlight>
== signal ==

      '''Parameter(s):'''

      npc_id ''(int)'', wait_ms ''(int)''

      '''Usage:'''

      Sends a signal to an NPC, specified by NPC ID, after a wait period of the specified milliseconds. Wait is optional and defaults to 0ms. Compare to quest::signalwith(). Signals trigger EVENT_SIGNAL.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
    #:: If faction is indifferent or better
    if ($faction < 4) {
        if ($text=~/hail/i) {
            quest::say("Greetings, my friend! You may rest here if you like. There are many dangers in this land. May Tunare watch over you when you depart our camp.");
            #:: signal 70005 - Elmion Hendrys after a 5ms pause
            quest::signal(70005,5);
        }
    } 
    else {
        quest::say("You have some nerve to approach a loyal member of the Paladins of Tunare! Run, while you can!");
    }
}</syntaxhighlight>
== signalwith ==

      '''Parameter(s):'''

      npc_id ''(int)'', signal_id ''(int)'', wait_ms ''(int)''

      '''Usage:'''

      Sends a signal to an NPC, specified by NPC ID, with a specified Signal ID, after a wait period of the specified milliseconds. Wait is optional and defaults to 0ms. Compare to quest::signalwith(). Signals trigger EVENT_SIGNAL.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_WAYPOINT_ARRIVE {
    if ($wp==12) {
        #:: Send a signal "2" to Steamfont Mountains >> Charlotte (56108), after 1ms
        quest::signalwith(56108,2,1);
    }
    if ($wp==18) {
        #:: Send a signal "3" to Steamfont Mountains >> Charlotte (56108), after 1ms
        quest::signalwith(56108,3,1);
    }
}</syntaxhighlight>
== snow ==

      '''Parameter(s):'''

      weather ''(int)''

      '''Usage:'''

      Changes the snowy weather to the specified setting: 0=none, 1=snow. See also quest::rain().

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ZONE {
     if ($name=~/turmoiltoad/i) {
          #:: Turn on the snow for those left behind
          quest::snow(1);
     }
}</syntaxhighlight>
== spawn ==

      '''Parameter(s):'''

      npc_type_id ''(int)'', grid_id ''(int)'', int_unused ''(int)'', x ''(float)'', y ''(float)'', z ''(float)''

      '''Usage:'''

      Spawns an NPC by NPC Type ID, on the specified grid, by Grid ID. The unused int corresponds to guildwarset–use 0 for this value as it is presently unused.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Spawn Fippy_Darkpaw (2001) on grid 103 at the specified location
quest::spawn(2001, 103, 0, 481.20, 1210.80, 3.10);</syntaxhighlight>
== spawn2 ==

      '''Parameter(s):'''

      npc_type_id ''(int)'', grid_id ''(int)'', int_unused ''(int)'', x ''(float)'', y ''(float)'', z ''(float)'', heading ''(float)''

      '''Usage:'''

      Spawns an NPC by NPC Type ID, on the specified grid, by Grid ID. The unused int corresponds to guildwarset–use 0 for this value as it is presently unused. Similar to quest::spawn(), with the addition of a heading parameter.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Spawn Fippy_Darkpaw (2001) on grid 103 at the specified location, facing East
quest::spawn2(2001, 103, 0, 481.20, 1210.80, 3.10, 90);</syntaxhighlight>
== spawn_condition ==

      '''Parameter(s):'''

      zone_short ''(string)'', instance_id ''(int)'', condition_id ''(uint16)'', value ''(int16)''

      '''Usage:'''

      Sets the condition and value for the zone spawn condition. Instance ID is optional and defaults to 0. You might use this to stop certain NPCs from spawning during a raid event.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
    #:: Set the condition to 3 value 0 to stop a_doomfire_chaosfiend spawn points
    quest::spawn_condition($zonesn, $instanceversion, 3, 0);
}</syntaxhighlight>
== spawn_from_spawn2 ==

      '''Parameter(s):'''

      spawn2_id ''(int)''

      '''Usage:'''

      Used to force a spawn_2 point to spawn an NPC even if disabled, or if it already has an NPC spawned.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Create a timer that loops every 10 seconds called "fippy")
     quest::settimer("fippy", 10);
}

sub EVENT_TIMER {
     #:: Match timer "fippy"
     if ($timer eq "fippy") {
          #:: Spawn ANOTHER Fippy, which will create another timer, spawn ANOTHER Fippy...chaos ensues.
          quest::spawn_from_spawn2(10875);
     }
}</syntaxhighlight>
== start ==

      '''Parameter(s):'''

      grid_id ''(int)''

      '''Usage:'''

      Used to start an NPC on the specified pathing grid.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SIGNAL {
    #:: Match if signal from steamfont/Jogl_Doobraugh.pl is "1"
    if (($signal == 1) && (($x == -495) || ($x == -734)) && (($y == -154) || ($y == 114))) {
        quest::emote("Beep.. Beep.. Beep..");
        quest::pause(60);
    }
    #:: Match if signal from steamfont/Jogl_Doobraugh.pl is "2"
    if ($signal == 2) {
        #:: Start path grid 178
        quest::start(178);
    }
    #:: Match if signal from steamfont/Jogl_Doobraugh.pl is "3"
    if ($signal == 3) {
        #:: Start path grid 179
        quest::start(179);
    }
}</syntaxhighlight>
== stop ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Used to stop an NPC.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_TIMER {
    #:: Match "CargoTimer" every five seconds
    if ($timer eq "CargoTimer") {
        #:: Match if the quest was not a failure and the time is 8 AM
        if (!defined($qglobals{CargoClockwork}) && ($zonehour == 8)) {
            #:: Set a qglobal in case of quest failure
            quest::setglobal("CargoClockwork",1,1,"H2");
            #:: Start path grid 177 - path to the windmills
            quest::start(177);
        }
        #:: Match if at the spawnpoint (WP 0) and if delivery was completed
        if ($x == 700 && $y == -1783 && $delivery == 1) {
            #:: Stop pathing on path grid 177
            quest::stop();
            #:: Reset the delivery state
            $delivery = 0;
        }
    }
}</syntaxhighlight>
== stopalltimers ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Stops all the timers currently running from the script.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Stop all the timers
quest::stopalltimers();</syntaxhighlight>
== stoptimer ==

      '''Parameter(s):'''

      timer_name ''(string)''

      '''Usage:'''

      Stops the specified timer from looping.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SPAWN {
     #:: Set a timer "despawn" to loop every 300 seconds (5 min)
     quest::settimer("despawn", 300);
}

sub EVENT_TIMER {
     #:: Stop the timer "despawn"
     quest::stoptimer("despawn");
     #:: Depop
     quest::depop();
}

sub EVENT_COMBAT {
     #:: Stop the timer if we enter combat
     if ($combat_state == 1) {
          quest::stoptimer("despawn");
     }
     #:: Start the timer once combat is finished
     else {
          quest::settimer("despawn", 300);
     }
}

sub EVENT_DEATH_COMPLETE {
     #:: Stop the timer "despawn" if I die
     quest::stoptimer("despawn");
}</syntaxhighlight>
== summonallplayercorpses ==

      '''Parameter(s):'''

      char_id ''(int)'', dest_x ''(float)'', dest_y ''(float)'', dest_z ''(float)'', dest_heading ''(float)''

      '''Usage:'''

      Summons all character corpses, by Char ID, to the specified location.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     if ($text=~/corpses/i) {
          quest::say("Summoning all of your corpses now.");
          #:: Summon all player corpses to the current location, facing North
          quest::summonallplayercorpses($charid, $x, $y, $z, 0);
     }
}</syntaxhighlight>
== summonburiedplayercorpse ==

      '''Parameter(s):'''

      char_id ''(uint32)'', dest_x ''(float)'', dest_y ''(float)'', dest_z ''(float)'', dest_heading ''(float)''

      '''Usage:'''

      Summons all buried character corpses, by Char ID, to the specified location.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     $corpse = quest::getplayerburiedcorpsecount($charid);
     if ($text=~/corpses/i && $corpse > 0) {
          #:: Summon all buried player corpses to the current location, facing North
          quest::summonburiedplayercorpse($charid, $x, $y, $z, 0);
     }
}</syntaxhighlight>
== summonitem ==

      '''Parameter(s):'''

      item_id ''(int)'', charges ''(int)''

      '''Usage:'''

      Summons the specified item, by Item ID, with the specified number of charges, to the cursor of the client character that triggered the event. Charges is the number of charges, or the count of the item, and is optional.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_ITEM {
    #:: Match 66gp and a 13990 - Bale of Hay
    if (plugin::takeItemsCoin(0,0,66,0, 13990 => 1)) {
        quest::say("'Whatsssss thisssss? You sssseek my blessssssssing? Heh heh heh... Very well... CAZIC-THULE! Take this fruit of Karana into horror'sss dark embrace. Fear and death made manifesssssst. A harvesssst of terror! Here, take your gift of blood and sssstraw. Use its dark powersssss in the name of the Fear Lord!' ");
        #:: Give a 14320 - Sack of Cursed Hay
        quest::summonitem(14320);
        #:: Ding!
        quest::ding();
        #:: Give a small amount of experience
        quest::exp(300);
        #:: Set faction
        quest::faction(18, 10);     #:: + Beta Neutral
    }
    #:: Return unused items
    plugin::returnUnusedItems();
}</syntaxhighlight>
== surname ==

      '''Parameter(s):'''

      name ''(string)''

      '''Usage:'''

      Changes the surname of the client character that triggered the event to the provided string.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set last name to "Toad"
quest::surname("Toad");</syntaxhighlight>
== targlobal ==

      '''Parameter(s):'''

      key ''(string)'', value ''(string)'', duration ''(string)'', npc_id ''(int)'', chararacter_id ''(int)'', zone_id ''(int)''

      '''Usage:'''

      Sets a quest global with the given parameters to a character anywhere in the world.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set a global "Example" with a value of "5" for 30 minutes
quest::targlobal("Example", "5", "M30", 2001, $charid, $zoneid);</syntaxhighlight>
== task_setselector ==

      '''Parameter(s):'''

      task_set_id ''(int)''

      '''Usage:'''

      Sets the Task Set, by provided Task Set ID.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Set task set 202
quest::task_setselector(202);</syntaxhighlight>
== taskexplorearea ==

      '''Parameter(s):'''

      explore_id ''(int)''

      '''Usage:'''

      Used to mark any explore activities (type 5), which have the numeric value Explore ID in their Goal ID field, and for which the Zone ID of the activity is either 0 or this zone, as completed.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Mark Task 21 complete
quest::taskexplorearea(21);</syntaxhighlight>
== taskselector ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Used to bring up the Task Selector Window with the specified tasks available for selection (from 1 to 40 task_id(s)). Note that when the task selector is brought up via this method, no check is made as to whether the character has the tasks enabled.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_SAY {
     if ($text=~/hail/i) {
          quest::say("Heyo! Looking for an exciting [task] to fill the time?");
     }
     if ($text=~/task/i) {
          #:: Select task 103
          quest::taskselector(103);
     }
}</syntaxhighlight>
== tasktimeleft ==

      '''Parameter(s):'''

      task_id ''(int)''

      '''Usage:'''

      Returns the amount of time left, in seconds, before the specified task runs out. -1 is returned if there is no time limit, or if the player does not have the task.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store the amount of time left for Task ID 22
$timeremaining = quest::tasktimeleft(22);  #:: Returns int
if ($timeremaining => 1) {
     quest::say("You have $timeremaining seconds left--better hurry!");
}
else {
     quest::say("Sorry $name, but you're out of time!");
}</syntaxhighlight>
== toggle_spawn_event ==

      '''Parameter(s):'''

      event_id ''(uint32)'', is_enabled ''(bool)'', is_strict ''(bool)'', reset_base ''(bool)''

      '''Usage:'''

      Used to toggle the enabled state of a specified [https://github.com/EQEmu/Server/wiki/spawn_events Spawn Event], by Event ID. The parameters for is_enabled, is_strict, and reset_base are all false by default.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_DEATH_COMPLETE {
     #:: Turn the depop spawn_event back on
     quest::toggle_spawn_event(65, 1, 0, 0);
}</syntaxhighlight>
== toggledoorstate ==

      '''Parameter(s):'''

      door_id ''(int)''

      '''Usage:'''

      Toggles the open/closed state of the specified door.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_CLICKDOOR {
     my $tds = quest::isdooropen(41);
     my $bds = quest::isdooropen(42);
     if (($doorid == 41 && !$tds) || ($doorid == 42 && !$bds)) {
          quest::toggledoorstate(38);
          quest::toggledoorstate(39);
          quest::toggledoorstate(40);
     }
}</syntaxhighlight>
== traindisc ==

      '''Parameter(s):'''

      tome_item_id ''(int)''

      '''Usage:'''

      Trains the discipline of the specified Tome ID for the client character that triggered the event. Generally you will simply use the plugin: plugin::try_tome_handins(%itemcount, $class, ‘Ranger’);–part of the contents of which are in the example below.

      '''Example:'''

<syntaxhighlight lang="perl">if (@tomes > 0) {
    if ($isclass eq $expectclass) {
        foreach my $i(@tomes) {
            quest::traindisc($i);
        }
    }
}</syntaxhighlight>
== traindiscs ==

      '''Parameter(s):'''

      max_level ''(int)'', min_level ''(int)''

      '''Usage:'''

      Used to train all disciplines for the class up to the specified max_level, if that level is less than rule Character:MaxLevel, or the character is a GM. The parameter for min_level defaults to 1.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Train disciplines up to level 70
quest::traindiscs(70,1);</syntaxhighlight>
== unique_spawn ==

      '''Parameter(s):'''

      npc_type_id ''(int)'', grid_id ''(int)'', int_unused ''(int)'', x ''(float)'', y ''(float)'', z_ (float)'', heading ''(float)_

      '''Usage:'''

      Similar to the quest::spawn() command, except that it will not spawn the specified NPC if the same npc_type ID is already in the zone.

      '''Example:'''

<syntaxhighlight lang="perl">sub EVENT_DEATH_COMPLETE {
    my $random_result = int(rand(100));
    if ($random_result >= 94) {
        #:: Spawn a Steamfont Mountains >> Minotaur_Hero (56152)
        quest::unique_spawn(56152,177,0,-1294,1360,-103);
    }
    elsif ($random_result >= 88 && $random_result < 94) {
        #:: Spawn a Steamfont Mountains >> Minotaur_Lord (56161)
        quest::unique_spawn(56161,0,0,-2179,1319,-101.2);
    }
    quest::say("I die soon! Meldrath, help me!");
}</syntaxhighlight>
== unscribespells ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Unscribes all spells for the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Unscribe all spells
quest::unscribespells();</syntaxhighlight>
== untraindiscs ==

      '''Parameter(s):'''

      None.

      '''Usage:'''

      Untrains all disciplines for the client character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Untrain all disciplines
quest::untraindiscs();</syntaxhighlight>
== updatetaskactivity ==

      '''Parameter(s):'''

      task_id ''(int)'', activity_id ''(int)'', count ''(int)'', ignore_quest_update ''(bool)''

      '''Usage:'''

      Used to increment the done count of the specified task is active. The parameter for ignore_quest_update is optional, and defaults to false; the parameter for count default to 1 (increase count by 1).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Update Task ID 219 activity 9, by 1 count
quest::updatetaskactivity(216,9);</syntaxhighlight>
== varlink ==

      '''Parameter(s):'''

      item_id ''(uint32)''

      '''Usage:'''

      Used to create an item link that can be used in a variable.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Create a scalar variable to store an item link for a 1001 - Cloth Cap
my $Reward = quest::varlink(1001);</syntaxhighlight>
== voicetell ==

      '''Parameter(s):'''

      client_name ''(string)'', macro_id ''(int)'', race_id ''(int)'', gender_id ''(int)''

      '''Usage:'''

      Plays the specified audio message on the client of the character that triggered the event.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send voice macro "Agree" to the client
quest::voicetell($name, 1);</syntaxhighlight>
== we ==

      '''Parameter(s):'''

      emote_color_id ''(int)'', message ''(string)''

      '''Usage:'''

      Sends an emote message to the world in the specified color.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send yellow (15) text
quest::we(15, "Hello world!");</syntaxhighlight>
== wearchange ==

      '''Parameter(s):'''

      slot ''(uint8)'', texture_id ''(uint16)'', hero_forge_model_id ''(uint32)'', elite_material_id ''(uint32)''

      '''Usage:'''

      Used to change the texture/model of visible [https://github.com/EQEmu/Server/wiki/Inventory-Slots Slots]. The parameters for hero_forge_model and elite_material_id default to 0.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Change the appearance of the character's weapon
quest::wearchange(13, 3);</syntaxhighlight>
== worldwidemarquee ==

      '''Parameter(s):'''

      color_id ''(uint32)'', priority ''(uint32)'', fade_in ''(uint32)'', fade_out ''(uint32)'', duration ''(uint32)'', message ''(string)''

      '''Usage:'''

      Used to send a worldwide marquee message with the specified parameters.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send a worldwide marquee message in yellow (15), 
quest::worldwidemarquee(15, 1, 1, 1, 1000, "Hello World!");</syntaxhighlight>
== write ==

      '''Parameter(s):'''

      file_name ''(string)'', message ''(string)''

      '''Usage:'''

      Writes the specified message string to the specified file name.

      '''Example:'''

<syntaxhighlight lang="perl">quest::write("HandIn/$npc_name$zonesn.txt","[$timestamp] : $name the $ulevel has handed in $Item1, $Item2, $Item3, $item4 into $npc_name, and gotten $RewardID.");</syntaxhighlight>
== ze ==

      '''Parameter(s):'''

      emote_color_id ''(int)'', message ''(string)''

      '''Usage:'''

      Sends a zone-wide emote message in the specified color.

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send a zone-wide emote in yellow (15)
quest::ze(15,"welcomes the world.");</syntaxhighlight>
== zone ==

      '''Parameter(s):'''

      zone_name ''(string)''

      '''Usage:'''

      Sends the client character that triggered the event to the specified zone (by zone short name).

      '''Example:'''

<syntaxhighlight lang="perl">#:: Send the player to the West Commonlands
quest::zone(commons);</syntaxhighlight>
